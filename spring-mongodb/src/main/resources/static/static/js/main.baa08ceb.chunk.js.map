{"version":3,"sources":["auth/index.js","components/Nav/Menu.js","components/Post/PostCard.js","components/Post/Posts.js","assets/toa-heftiba-fbCxL_wEo5M-unsplash.jpg","components/LandingPage.js","components/Home.js","components/User/Following.js","components/User/Follower.js","components/User/Profile.js","components/User/Signup.js","components/User/Signin.js","components/User/UserCard.js","components/User/Users.js","components/User/EditProfile.js","auth/PrivateRoute.js","components/User/FindPeopleCard.js","components/User/FindPeople.js","components/Post/NewPost.js","components/Post/Comment.js","components/Post/Comments.js","components/Post/SinglePost.js","components/Post/EditPost.js","components/User/ForgotPassword.js","components/User/ResetPassword.js","Main.js","App.js","index.js"],"names":["signout","next","window","localStorage","removeItem","axios","get","then","res","data","catch","error","console","log","isAuthenticated","getItem","expirationTime","jwt_decode","exp","Date","now","clear","user","JSON","parse","useStyles","makeStyles","theme","title","flexGrow","button","margin","spacing","withRouter","history","classes","useState","value","setValue","isActive","path","location","pathname","color","CssBaseline","AppBar","position","id","Toolbar","Typography","variant","className","style","textDecoration","to","Tabs","onChange","event","newValue","aria-label","Tab","label","component","Link","username","onClick","href","Button","push","root","body","justifyContent","card","height","display","flexDirection","PostCard","post","photo","setPhoto","posterId","postedBy","posterName","useEffect","method","url","responseType","headers","Accept","Authorization","token","base","btoa","Uint8Array","reduce","byte","String","fromCharCode","Grid","item","xs","sm","md","Card","CardMedia","image","width","CardContent","marginBottom","substring","Box","fontStyle","created","toDateString","CardActions","size","marginTop","cardGrid","paddingTop","paddingBottom","Posts","posts","setPosts","align","Container","maxWidth","container","map","i","LandingPage","src","background","alt","backgroundColor","palette","paper","padding","Home","gutterBottom","paragraph","Following","following","onError","target","borderRadius","border","Follower","follower","grid","Profile","setUser","redirectToSignin","setRedirectToSignin","redirect","setRedirect","setFollowing","userId","useParams","fetchUser","followers","find","checkFollow","about","email","createdDate","marginRight","marginLeft","confirm","fontWeight","alignItems","avatar","secondary","main","form","submit","Signup","password","success","values","setValues","handleChange","name","e","handleSubmit","preventDefault","stringify","signup","response","details","Alert","severity","Avatar","noValidate","TextField","required","fullWidth","type","autoComplete","SignIn","loading","redirectToReferer","setItem","authenticationToken","userEmail","authenticate","CircularProgress","redirectUser","UserCard","Users","users","setUsers","EditProfile","formData","redirectToProfile","setRedirectToProfile","FormData","files","append","undefined","Blob","updateUser","updateLocalStorage","encType","accept","multiline","PrivateRoute","Component","rest","render","props","state","from","FindPeopleCard","person","toFollow","index","setError","followMessage","setFollowMessage","CardActionArea","setTimeout","reload","FindPeople","people","setPeople","follow","splice","NewPost","createPost","Comment","comment","updateComments","comments","postId","deleteComment","text","Comments","addComment","onSubmit","length","SinglePost","setPost","like","setLike","likes","setLikes","setComments","fetchPost","match","checkLike","likeToggle","a","callApi","deletePost","textAlign","EditPost","updatePost","ForgotPassword","message","forgotPassword","ResetPassword","resetInfo","resetPassword","Main","exact","Signin","App","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.baa08ceb.chunk.js","sourcesContent":["import axios from 'axios'\r\nimport jwt_decode from 'jwt-decode'\r\n\r\nexport const signup = user => {\r\n    return axios({\r\n        method: 'post',\r\n        url: `/api/auth/signup`,\r\n        headers: {\r\n            Accept: \"*/*\",\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n        data: JSON.stringify(user)\r\n    })\r\n}\r\n\r\nexport const signin = user => {\r\n    return axios({\r\n            method: 'post',\r\n            url:`/api/auth/signin`,\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            data: JSON.stringify(user)\r\n        })\r\n}\r\n\r\nexport const signout = next => {\r\n    if(typeof window !== 'undefined') {\r\n        localStorage.removeItem('jwt')\r\n        next()\r\n        return axios.get(`/api/auth/signout`)\r\n        .then(res => {\r\n           return res.data\r\n        })\r\n        .catch(error => console.log(error))\r\n    }\r\n}\r\n\r\n\r\nexport const authenticate = (res, next) => {\r\n    if(typeof window !== 'undefined') {\r\n        localStorage.setItem('jwt', JSON.stringify(res.data.authenticationToken))\r\n        localStorage.setItem('userid', JSON.stringify(res.data.userId))\r\n        localStorage.setItem('username', JSON.stringify(res.data.username))\r\n        localStorage.setItem('useremail', JSON.stringify(res.data.userEmail))\r\n        next()\r\n    }\r\n}\r\n\r\nexport const isAuthenticated = () => {\r\n    if(typeof window === 'undefined') {\r\n        return false\r\n    }\r\n    if(localStorage.getItem('jwt')) {\r\n        const decoded = jwt_decode(localStorage.getItem('jwt'))\r\n        const expirationTime = (decoded.exp * 1000) - 60000\r\n        if(Date.now() >= expirationTime) {\r\n            localStorage.clear()\r\n        }\r\n        const user = {}\r\n        user['id'] = JSON.parse(localStorage.getItem('userid'))\r\n        user['username'] = JSON.parse(localStorage.getItem('username'))\r\n        user['email'] = JSON.parse(localStorage.getItem('useremail'))\r\n        user['token'] = JSON.parse(localStorage.getItem('jwt'))\r\n        return user\r\n    } else {\r\n        return false\r\n    }\r\n}\r\n\r\nexport const forgotPassword = email => {\r\n    return axios({\r\n        method: 'post',\r\n        url: `/api/auth/forgotpassword`,\r\n        headers: {\r\n            Accept: \"*/*\",\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n        data: email\r\n    }) \r\n}\r\n\r\nexport const resetPassword = resetInfo => {\r\n    return axios({\r\n        method: 'put',\r\n        url: `/api/auth/resetpassword/${resetInfo.userId}/${resetInfo.token}`,\r\n        headers: {\r\n            Accept: \"*/*\",\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n        data: resetInfo.password\r\n    }) \r\n}\r\n","import { useState, Fragment } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { isAuthenticated, signout } from '../../auth'\r\nimport { \r\n  Button,\r\n  Tabs,\r\n  Tab,\r\n  AppBar, \r\n  Toolbar,\r\n  Typography,\r\n  CssBaseline,\r\n  makeStyles\r\n} from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  title: {\r\n    flexGrow: 1\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1, 1.5)\r\n  }\r\n}))\r\n\r\nfunction Menu({ history }) {\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(0);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const isActive = (history, path) => {\r\n    if(history.location.pathname === path) return { color: '#00FFFF' } \r\n    else return { color: 'white' }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"relative\"\r\n        id=\"header-color\"\r\n      >\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n              <Link style={{ textDecoration: 'none', color: 'white' }} to=\"/\">Social Media App</Link>\r\n          </Typography>\r\n            {isAuthenticated() ? \r\n            <Fragment>\r\n                <Tabs variant=\"fullWidth\" value={value} onChange={handleChange} aria-label=\"nav tabs example\">\r\n                  <Tab label=\"Home\" to=\"/\" component={Link} style={isActive(history, '/')} />\r\n                  <Tab label={`${isAuthenticated().username}'s profile`} onClick={() => window.location.href=`/user/${isAuthenticated().id}`} style={isActive(history, `/user/${isAuthenticated().id}`)}  />\r\n                  <Tab label=\"Users\" to=\"/users\" component={Link} style={isActive(history, '/users')} />\r\n                  <Tab label=\"Find People\" to=\"/findpeople\" component={Link} style={isActive(history, '/findpeople')}  />\r\n                  <Tab label=\"Create Post\" to=\"/post/create\" component={Link} style={isActive(history, '/post/create')} />\r\n                </Tabs>\r\n                <Button variant=\"contained\" color=\"secondary\" className={classes.button} onClick={() => signout(() => { history.push('/') })}>\r\n                    Sign Out\r\n                </Button>\r\n            </Fragment>\r\n              :\r\n            <Fragment>\r\n                <Button variant=\"contained\" color=\"primary\" to=\"/signup\" component={Link} className={classes.button}>\r\n                    Sign Up\r\n                </Button>\r\n                <Button variant=\"contained\" color=\"primary\" to=\"/signin\" component={Link} className={classes.button}>\r\n                    Sign In\r\n                </Button>\r\n            </Fragment>\r\n            }\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(Menu)\r\n","import { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Button, Card, CardContent, Typography, CardActions, CardMedia, Grid, Box } from '@material-ui/core'\r\nimport { isAuthenticated } from '../../auth'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: 1\r\n    },\r\n    body: {\r\n        justifyContent: 'space-between'\r\n    },\r\n    card: {\r\n        height: '100%',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    }\r\n}))\r\n\r\nexport default function PostCard({ post }) {\r\n    const classes = useStyles()\r\n    const[photo, setPhoto] = useState(\"\")\r\n    const posterId = post.postedBy ? `/user/${post.postedBy.id}` : \"\"\r\n    const posterName = post.postedBy ? post.postedBy.username : \"Unknown\"\r\n    \r\n    const fetchPhoto = id => {\r\n        axios({\r\n            method: 'get',\r\n            url: `/api/post/photo/${id}`,\r\n            responseType: 'arraybuffer',\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            const base = btoa(new Uint8Array(res.data).reduce((data, byte) => data + String.fromCharCode(byte), ''))\r\n            setPhoto(`data:image/*;base64, ${base}`)\r\n        }).catch(error => {\r\n            // if photo does not exist, set default photo\r\n            if(error) {\r\n                setPhoto(\"https://www.flickr.com/photos/glaciernps/28806955114/in/album-72157670140016374/\")\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchPhoto(post.id)\r\n    }, [])\r\n\r\n    return (\r\n        <Grid item xs={12} sm={6} md={4}> \r\n            <Card variant=\"outlined\" className={classes.card}>\r\n                    <CardMedia \r\n                    component=\"img\"\r\n                    image={photo}\r\n                    height=\"200px\"\r\n                    width=\"100%\"\r\n                    />\r\n                    <CardContent>\r\n                        <Typography variant=\"h6\" component=\"h6\" style={{ marginBottom: '5%' }}>\r\n                            {post.title}             \r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            {post.body.substring(0, 25)}\r\n                        </Typography>\r\n                        <br/>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            <Box fontStyle=\"italic\">\r\n                                Posted by <Link to={posterId} >{posterName}</Link> on {new Date(post.created).toDateString()}\r\n                            </Box>\r\n                        </Typography>\r\n                    </CardContent>\r\n                <CardActions>\r\n                     <Button size=\"small\" variant=\"contained\" color=\"primary\" to={`/post/${post.id}`} component={Link}>\r\n                        Read More\r\n                    </Button>\r\n                </CardActions>\r\n            </Card>\r\n        </Grid>\r\n    )\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { Container, Grid, Typography } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { isAuthenticated } from '../../auth'\r\nimport PostCard from './PostCard'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      marginTop: theme.spacing(5)\r\n    },\r\n    cardGrid: {\r\n        paddingTop: theme.spacing(3),\r\n        paddingBottom: theme.spacing(3),\r\n    }\r\n  }));\r\n\r\nexport default function Posts() {\r\n    const classes = useStyles()\r\n    const [posts, setPosts] = useState([])\r\n\r\n    const fetchPosts = () => {\r\n        axios({\r\n            method: 'get',\r\n            url: `/api/post/`,\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            setPosts(res.data)\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchPosts()\r\n    }, [setPosts])\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Typography component=\"h1\" variant=\"h5\" align=\"center\">\r\n                Recent Posts\r\n            </Typography>\r\n            <Container className={classes.cardGrid} maxWidth=\"md\">\r\n                <Grid container spacing={4}>\r\n                    {posts ?\r\n                    posts.map((post, i) => {\r\n                        return <PostCard key={i} post={post} />\r\n                    }) : []}\r\n                </Grid>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/toa-heftiba-fbCxL_wEo5M-unsplash.42cc08e1.jpg\";","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { CssBaseline } from '@material-ui/core'\r\nimport background from '../assets/toa-heftiba-fbCxL_wEo5M-unsplash.jpg'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n    height: '100vh'\r\n    },\r\n    image: {\r\n        height: '100%',\r\n        width: '100%'\r\n    }\r\n  }))\r\n\r\nexport default function LandingPage() {\r\n    const classes = useStyles()\r\n    return (\r\n        <div className={classes.root}>\r\n            <CssBaseline />\r\n            <img \r\n            src={background}\r\n            className={classes.image}\r\n            alt=\"Landing\"\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import { Container, Typography } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { CssBaseline } from '@material-ui/core'\r\nimport Posts from './Post/Posts'\r\nimport { isAuthenticated } from '../auth'\r\nimport LandingPage from './LandingPage'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(4, 0, 6),\r\n  }\r\n}))\r\n\r\nexport default function Home() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <Container maxWidth=\"sm\">\r\n        <Typography component=\"h1\" variant=\"h5\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n          Welcome to Social Media App\r\n        </Typography>\r\n        <Typography variant=\"h5\" align=\"center\" color=\"textSecondary\" paragraph>\r\n          Share your views and ideas without discrimination.\r\n          Stay in touch with loved ones far from home.\r\n          Connect with friends, new and old.  \r\n        </Typography>\r\n      </Container>\r\n      { isAuthenticated() ? \r\n        <Posts /> :\r\n        <LandingPage />\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\n  ","import { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Typography, Grid } from '@material-ui/core'\r\nimport axios from 'axios'\r\nimport { isAuthenticated } from '../../auth'\r\n\r\nexport default function Following({ following }) {\r\n    const[photo, setPhoto] = useState(\"\")\r\n    \r\n    const fetchPhoto = id => {\r\n        axios({\r\n            method: 'get',\r\n            url: `/api/user/photo/${id}`,\r\n            responseType: 'arraybuffer',\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            const base = btoa(new Uint8Array(res.data).reduce((data, byte) => data + String.fromCharCode(byte), ''))\r\n            setPhoto(`data:image/*;base64, ${base}`)\r\n        }).catch(error => {\r\n            // if photo does not exist, set default photo\r\n            if(error) {\r\n                setPhoto(\"https://cdn2.iconfinder.com/data/icons/teen-people-face-avatar-6/500/teen_109-512.png\")\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchPhoto(following.id)\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <Link onClick={() => window.location.href=`/user/${following.id}`}>\r\n                <Grid container spacing={6}>\r\n                    <Grid item xs={3}>\r\n                            <img src={photo} \r\n                            alt={following.username} \r\n                            onError={i => (i.target.src=\"https://cdn2.iconfinder.com/data/icons/teen-people-face-avatar-6/500/teen_109-512.png\")} \r\n                            style={{ width: 'auto', height: '100px', borderRadius: '50%', border: '1px solid black' }}\r\n                            />\r\n                    </Grid>\r\n                    <Grid item xs={3}>\r\n                        <Typography variant=\"h6\" component=\"h6\">\r\n                            {following.username}\r\n                        </Typography>\r\n                    </Grid>\r\n                </Grid>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Typography, Grid } from '@material-ui/core'\r\nimport axios from 'axios'\r\nimport { isAuthenticated } from '../../auth'\r\n\r\nexport default function Follower({ follower }) {\r\n    const[photo, setPhoto] = useState(\"\")\r\n    \r\n    const fetchPhoto = id => {\r\n        axios({\r\n            method: 'get',\r\n            url: `/api/user/photo/${id}`,\r\n            responseType: 'arraybuffer',\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            const base = btoa(new Uint8Array(res.data).reduce((data, byte) => data + String.fromCharCode(byte), ''))\r\n            setPhoto(`data:image/*;base64, ${base}`)\r\n        }).catch(error => {\r\n            // if photo does not exist, set default photo\r\n            if(error) {\r\n                setPhoto(\"https://cdn2.iconfinder.com/data/icons/teen-people-face-avatar-6/500/teen_109-512.png\")\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchPhoto(follower.id)\r\n    }, [])\r\n    \r\n    return (\r\n        <div>\r\n            <Link onClick={() => window.location.href=`/user/${follower.id}`}>\r\n                <Grid container spacing={6}>\r\n                    <Grid item xs={3}>\r\n                            <img src={photo} \r\n                            alt={follower.username} \r\n                            onError={i => (i.target.src=\"https://cdn2.iconfinder.com/data/icons/teen-people-face-avatar-6/500/teen_109-512.png\")} \r\n                            style={{ width: 'auto', height: '100px', borderRadius: '50%', border: '1px solid black' }}\r\n                            />\r\n                    </Grid>\r\n                    <Grid item xs={3}>\r\n                        <Typography variant=\"h6\" component=\"h6\">\r\n                            {follower.username}\r\n                        </Typography>\r\n                    </Grid>\r\n                </Grid>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { useParams, Redirect, Link } from 'react-router-dom'\r\nimport { Button, Grid, Typography, Box } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport axios from 'axios'\r\nimport { signout, isAuthenticated } from '../../auth'\r\nimport Following from './Following'\r\nimport Follower from './Follower'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n    grid: {\r\n        justifyContent: 'center'\r\n    }\r\n  }));\r\n\r\nexport default function Profile() {\r\n    const classes = useStyles();\r\n    const [user, setUser] = useState(\"\")\r\n    const [photo, setPhoto] = useState(\"\")\r\n    const [posts, setPosts] = useState([])\r\n    const [redirectToSignin, setRedirectToSignin] = useState(false)\r\n    const [redirect, setRedirect] = useState(false)\r\n    let [following, setFollowing] = useState(false)\r\n    const { userId } = useParams()\r\n\r\n    const checkFollow = user => {\r\n        const match = user.followers.find(follower => {\r\n            return follower.id === isAuthenticated().id\r\n        })\r\n        return match\r\n    }\r\n\r\n    const fetchUser = () => {\r\n        axios({\r\n            method: 'get',\r\n            url: `/api/user/${userId}`,\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            setUser(res.data)\r\n            if(checkFollow(res.data)) {\r\n                setFollowing(true)\r\n            }\r\n        }).catch(error => {\r\n            // user not authenticated, redirect\r\n            if(error) {\r\n                setRedirectToSignin(true)\r\n            }\r\n        })\r\n    }\r\n\r\n    const fetchPhoto = () => {\r\n        axios({\r\n            method: 'get',\r\n            url: `/api/user/photo/${userId}`,\r\n            responseType: 'arraybuffer',\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            const base = btoa(new Uint8Array(res.data).reduce((data, byte) => data + String.fromCharCode(byte), ''))\r\n            setPhoto(`data:image/*;base64, ${base}`)\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    const fetchPostByUser = () => {\r\n        axios({\r\n            method: 'get',\r\n            url: `/api/post/by/${userId}`,\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            setPosts(res.data)\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchUser()\r\n        fetchPhoto()\r\n        fetchPostByUser()\r\n    }, [])\r\n\r\n    const deleteAccount = () => {\r\n        axios({\r\n            method: 'delete',\r\n            url: `/api/user/delete/${userId}`,\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            signout(() => console.log(\"User deleted successfully!\"))\r\n            setRedirect(true)\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    const confirmDelete = () => {\r\n        let answer = window.confirm(\"Are you sure you want to delete your account?\")\r\n        if(answer) {\r\n            deleteAccount()\r\n        } \r\n    }\r\n\r\n    const handleFollow = () => {\r\n        axios({\r\n            method: 'put',\r\n            url: `/api/user/follow/${isAuthenticated().id}/${userId}`,\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            setFollowing(!following)\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    const handleUnfollow = () => {\r\n        axios({\r\n            method: 'put',\r\n            url: `/api/user/unfollow/${isAuthenticated().id}/${userId}`,\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            setFollowing(!following)\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            {redirectToSignin ? <Redirect to='/signin' /> : null}\r\n            {redirect ? <Redirect to='/' /> : null}\r\n            <Grid container spacing={5} className={classes.grid}>\r\n                <Grid item xs={3}>\r\n                    <Typography component=\"h1\" variant=\"h5\">\r\n                        Profile\r\n                    </Typography>\r\n                    <img \r\n                    src={photo} \r\n                    alt={user.username} \r\n                    onError={i => (i.target.src=\"https://cdn2.iconfinder.com/data/icons/teen-people-face-avatar-6/500/teen_109-512.png\")}\r\n                    style={{ width: 'auto', height: '200px' }} />\r\n                    <hr />\r\n                    <Typography variant=\"subtitle1\" component=\"p\">\r\n                        {user.about}\r\n                    </Typography>\r\n                    <hr />\r\n                    <div style={{ marginTop: '4%' }}>\r\n                        <Typography variant=\"h6\" component=\"h1\">\r\n                            Followers\r\n                        </Typography>\r\n                        {user.followers ?\r\n                        user.followers.map((follower, i) => {\r\n                            return <Follower key={i} follower={follower} />\r\n                        }) : []}\r\n                    </div>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                    <div style={{ marginTop: '10%' }}>\r\n                        <Typography variant=\"subtitle1\" component=\"p\">\r\n                            Hello {user.username}\r\n                        </Typography>\r\n                        <Typography variant=\"subtitle1\" component=\"p\">\r\n                            Email: {user.email}\r\n                        </Typography>\r\n                        <Typography variant=\"subtitle1\" component=\"p\">\r\n                            Joined: {new Date(user.createdDate).toDateString()}\r\n                        </Typography>\r\n                    </div>\r\n                    {isAuthenticated().id === userId ? (\r\n                        <div style={{ marginTop: '5%', marginBottom: '1%' }}>\r\n                            <Button variant=\"contained\" href={`/post/create`} style={{ marginRight: '5%' }}>\r\n                                Create Post\r\n                            </Button>\r\n                            <Button variant=\"contained\" color=\"primary\" href={`/user/edit/${userId}`}>\r\n                                Edit Profile\r\n                            </Button>\r\n                            <Button variant=\"contained\" color=\"secondary\" style={{ marginLeft: '5%' }} onClick={confirmDelete}>\r\n                                Delete Profile\r\n                            </Button>\r\n                        </div>\r\n                    ) : (\r\n                        <div style={{ marginTop: '5%', marginBottom: '1%' }}>\r\n                            {!following ? <Button variant=\"contained\" color=\"primary\" onClick={handleFollow}>\r\n                                Follow\r\n                            </Button> : \r\n                            <Button variant=\"contained\" color=\"secondary\" onClick={handleUnfollow}>\r\n                                Unfollow\r\n                            </Button>\r\n                            }\r\n                        </div>\r\n                    )}\r\n                    <div style={{ marginTop: '16%' }}>\r\n                        <Typography variant=\"h6\" component=\"h1\">\r\n                            Following\r\n                        </Typography>\r\n                        {user.following ?\r\n                        user.following.map((following, i) => {\r\n                            return <Following key={i} following={following} />\r\n                        }) : []}\r\n                    </div>\r\n                </Grid>\r\n                <Grid item xs={3} style={{ marginTop: '16%' }}>\r\n                    <Typography variant=\"h6\" component=\"h1\">\r\n                        Posts\r\n                    </Typography>\r\n                    {posts ?\r\n                        posts.map((post, i) => {\r\n                            return <div key={i}>\r\n                                <Link to={`/post/${post.id}`}>\r\n                                    <Typography variant=\"h6\" component=\"h6\">\r\n                                        <Box fontWeight=\"fontWeightBold\">\r\n                                            {post.title}             \r\n                                        </Box>\r\n                                    </Typography>\r\n                                </Link>\r\n                            </div>\r\n                        }) : []}\r\n                </Grid>\r\n            </Grid>\r\n        </div>  \r\n    )\r\n}\r\n","import { useState } from 'react'\r\nimport { Avatar, Button, TextField, Link,  Grid, Typography, Container } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { signup } from '../../auth'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n      marginTop: theme.spacing(5),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n      width: '100%', // Fix IE 11 issue.\r\n      marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n    },\r\n  }))\r\n  \r\nexport default function Signup() {\r\n    const classes = useStyles()\r\n    const [values, setValues] = useState({\r\n        username: '',\r\n        email: '',\r\n        password: '',\r\n        error: '',\r\n        success: false\r\n    })\r\n    const { username, email, password, error, success } = values\r\n\r\n    // higher order function to target name and event of form\r\n    const handleChange = name => e => {\r\n        // array syntax to target all input fields\r\n        setValues({ ...values, success: false, [name]: e.target.value })\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        setValues({ ...values, error: false })\r\n        const user = { username, email, password }\r\n        signup(user).then(res => {\r\n            setValues({ ...values, username: '', email: '', password: '', error: '', success: true })\r\n        }).catch(error => {\r\n            setValues({ ...values, error: error.response.data.details, success: false })\r\n        })\r\n    }\r\n\r\n    const showError = () => (\r\n        <Alert severity=\"error\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </Alert>\r\n    )\r\n\r\n    const showSuccess = () => (\r\n        <Alert severity=\"success\" style={{ display: success ? '' : 'none' }}>\r\n            Success! User created. Please <Link href=\"/signin\" variant=\"body2\" >Sign In</Link>\r\n        </Alert>\r\n    )\r\n\r\n    const signUpForm = () => (\r\n        <form className={classes.form} noValidate>\r\n            <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            label=\"Username\"\r\n            type=\"text\"\r\n            autoComplete=\"username\"\r\n            onChange={handleChange(\"username\")}\r\n            value={username}\r\n            />\r\n            <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            label=\"Email\"\r\n            autoComplete=\"email\"\r\n            onChange={handleChange(\"email\")}\r\n            value={email}\r\n            />\r\n            <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            autoComplete=\"current-password\"\r\n            onChange={handleChange(\"password\")}\r\n            value={password}\r\n            />\r\n            <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            onClick={handleSubmit}\r\n            >\r\n            Sign Up\r\n            </Button>\r\n            <Grid container>\r\n                <Grid item>\r\n                    <Link href=\"/signin\" variant=\"body2\">\r\n                    {\"Already have an account? Sign In\"}\r\n                    </Link>\r\n                </Grid>\r\n            </Grid>\r\n        </form>\r\n    )\r\n\r\n    return (\r\n        <Container maxWidth=\"xs\">\r\n        <div className={classes.paper}>\r\n            {showError()}\r\n            {showSuccess()}\r\n            <Avatar className={classes.avatar}>\r\n                <LockOutlinedIcon />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n                Sign Up\r\n            </Typography>\r\n            {signUpForm()}\r\n        </div>\r\n        </Container>\r\n    \r\n    )\r\n}\r\n","import { useState } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { \r\n    Avatar,\r\n    Button,\r\n    TextField,\r\n    Grid,\r\n    Typography,\r\n    Container,\r\n    CircularProgress \r\n} from '@material-ui/core';\r\nimport { Alert } from '@material-ui/lab'\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { isAuthenticated, signin, authenticate } from '../../auth'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(5),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  button: {\r\n    margin: theme.spacing(2, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function SignIn() {\r\n  const classes = useStyles();\r\n  const [values, setValues] = useState({\r\n      username: '',\r\n      password: '',\r\n      error: '',\r\n      loading: false,\r\n      redirectToReferer: true\r\n  })\r\n  const { username, password, error, loading, redirectToReferer } = values\r\n\r\n  const handleChange = name => e => {\r\n      setValues({ ...values, error: false, [name]: e.target.value })\r\n  }\r\n\r\n  const handleSubmit = e => {\r\n      e.preventDefault()\r\n      setValues({ ...values, error: false, loading: true })\r\n      signin({ username, password }).then(res => {\r\n          authenticate(res, () => {\r\n            setValues({ ...values, redirectToReferer: true })\r\n           })\r\n      }).catch(error => {\r\n        setValues({ ...values, error: error.response.data.details, loading: false })\r\n      })\r\n  }\r\n\r\n  const showError = () => (\r\n      <Alert severity=\"error\" style={{ display: error ? '' : 'none' }}>\r\n          {error}\r\n      </Alert>\r\n  )\r\n\r\n  const showLoading = () => (\r\n      <CircularProgress style={{ display: loading ? '' : 'none'}} />\r\n  )\r\n\r\n  const redirectUser = () => {\r\n      if(redirectToReferer) {\r\n          if(isAuthenticated()) {\r\n              return <Redirect to='/' />\r\n          }\r\n      }\r\n  }\r\n\r\n  const signInForm = () => (\r\n      <form className={classes.form} noValidate>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          fullWidth\r\n          label=\"Username\"\r\n          type=\"text\"\r\n          autoComplete=\"username\"\r\n          onChange={handleChange(\"username\")}\r\n          value={username}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          fullWidth\r\n          label=\"Password\"\r\n          type=\"password\"\r\n          autoComplete=\"current-password\"\r\n          onChange={handleChange(\"password\")}\r\n          value={password}\r\n        />\r\n        <Button\r\n          type=\"submit\"\r\n          fullWidth\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className={classes.button}\r\n          onClick={handleSubmit}\r\n        >\r\n          Sign In\r\n        </Button>\r\n        <Button\r\n          fullWidth\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          to=\"/forgot-password\"\r\n          className={classes.button}\r\n          component={Link}\r\n        >\r\n        Forgot Password\r\n        </Button>\r\n        <Grid container>\r\n          <Grid item>\r\n            <Link to=\"/signup\" variant=\"body2\">\r\n              {\"Don't have an account? Sign Up\"}\r\n            </Link>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n  )\r\n\r\n  return (\r\n    <Container maxWidth=\"xs\">\r\n    <div className={classes.paper}>\r\n        {showError()}\r\n        {showLoading()}\r\n        <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n            Sign In\r\n        </Typography>\r\n        {signInForm()}\r\n        {redirectUser()}\r\n    </div>\r\n    </Container>\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button, Card, CardContent, Typography, CardActions, CardMedia, Grid } from '@material-ui/core'\r\nimport { isAuthenticated } from '../../auth'\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        flexGrow: 1\r\n    },\r\n    body: {\r\n        justifyContent: 'space-between'\r\n    },\r\n    card: {\r\n        height: '100%',\r\n        display: 'flex',\r\n        flexDirection: 'column'\r\n    }\r\n})\r\n\r\nexport default function UserCard({ user }) {\r\n    const classes = useStyles()\r\n    const[photo, setPhoto] = useState(\"\")\r\n    \r\n    const fetchPhoto = id => {\r\n        axios({\r\n            method: 'get',\r\n            url: `/api/user/photo/${id}`,\r\n            responseType: 'arraybuffer',\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            const base = btoa(new Uint8Array(res.data).reduce((data, byte) => data + String.fromCharCode(byte), ''))\r\n            setPhoto(`data:image/*;base64, ${base}`)\r\n        }).catch(error => {\r\n            // if photo does not exist, set default photo\r\n            if(error) {\r\n                setPhoto(\"https://cdn2.iconfinder.com/data/icons/teen-people-face-avatar-6/500/teen_109-512.png\")\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchPhoto(user.id)\r\n    }, [])\r\n\r\n    return (\r\n        <Grid item xs={12} sm={6} md={4}> \r\n            <Card variant=\"outlined\" className={classes.card}>\r\n                    <CardMedia \r\n                    component=\"img\"\r\n                    image={photo}\r\n                    height=\"250\"\r\n                    />\r\n                    <CardContent>\r\n                        <Typography variant=\"h6\" component=\"h6\">\r\n                            {user.username}             \r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            {user.email}\r\n                        </Typography>\r\n                    </CardContent>\r\n                <CardActions>\r\n                     <Button size=\"small\" color=\"primary\" onClick={() => window.location.href=`/user/${user.id}`}>\r\n                        View Profile\r\n                    </Button>\r\n                </CardActions>\r\n            </Card>\r\n        </Grid>\r\n    )\r\n}","import { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { Container, Grid, Typography } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { isAuthenticated } from '../../auth'\r\nimport UserCard from './UserCard'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      marginTop: theme.spacing(3)\r\n    },\r\n    cardGrid: {\r\n        paddingTop: theme.spacing(3),\r\n        paddingBottom: theme.spacing(3)\r\n    }\r\n  }));\r\n\r\nexport default function Users() {\r\n    const classes = useStyles()\r\n    const [users, setUsers] = useState([])\r\n\r\n    const fetchUsers = () => {\r\n        axios({\r\n            method: 'get',\r\n            url: `/api/user/`,\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            setUsers(res.data)\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchUsers()\r\n    }, [setUsers])\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Typography component=\"h1\" variant=\"h5\" align=\"center\">\r\n                Users\r\n            </Typography>\r\n            <Container className={classes.cardGrid} maxWidth=\"md\">\r\n                <Grid container spacing={4}>\r\n                    { users ?\r\n                    users.map((user, i) => {\r\n                        return <UserCard key={i} user={user} />\r\n                    }) : []}\r\n                </Grid>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport { useParams, Redirect } from 'react-router-dom'\r\nimport { Button, TextField, Typography, Container } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { isAuthenticated } from '../../auth'\r\nimport axios from 'axios'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n      marginTop: theme.spacing(12),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    form: {\r\n      width: '100%', // Fix IE 11 issue.\r\n      marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n    },\r\n  }));\r\n\r\nexport default function EditProfile() {\r\n    const classes = useStyles()\r\n    const [values, setValues] = useState({\r\n        id: '',\r\n        username: '',\r\n        email: '',\r\n        password: '',\r\n        formData: '',\r\n        about: '',\r\n        error: '',\r\n        success: false\r\n    })\r\n    const [redirectToProfile, setRedirectToProfile] = useState(false)\r\n    const [photo, setPhoto] = useState(\"\")\r\n    const { id, username, email, password, formData, about, error } = values\r\n    const { userId } = useParams()\r\n\r\n    const fetchUser = () => {\r\n        axios({\r\n            method: 'get',\r\n            url: `/api/user/${userId}`,\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            setValues({\r\n                id: res.data.id,\r\n                username: res.data.username,\r\n                email: res.data.email,\r\n                about: res.data.about,\r\n                formData: new FormData()\r\n             })\r\n        }).catch(error => {\r\n            // user not authenticated, redirect\r\n            if(error) {\r\n                setRedirectToProfile(true)\r\n            }\r\n        })\r\n    }\r\n\r\n    const fetchPhoto = () => {\r\n        axios({\r\n            method: 'get',\r\n            url: `/api/user/photo/${userId}`,\r\n            responseType: 'arraybuffer',\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            const base = btoa(new Uint8Array(res.data).reduce((data, byte) => data + String.fromCharCode(byte), ''))\r\n            setPhoto(`data:image/*;base64, ${base}`)\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    const updateUser = user => {\r\n        return axios({\r\n            method: 'put',\r\n            url: `/api/user/update/${userId}`,\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            },\r\n            data: user\r\n        })\r\n    }\r\n\r\n    const updateLocalStorage = (user, next) => {\r\n        if(typeof window !== 'undefined') {\r\n            if(localStorage.getItem('username')) {\r\n                localStorage.setItem('username', JSON.stringify(user.username))\r\n            }\r\n        }\r\n        next()\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchUser()\r\n        fetchPhoto()\r\n    }, [])\r\n\r\n    // higher order function to target name and event of form\r\n    const handleChange = name => e => {\r\n        const value = name === 'image' ? e.target.files[0] : e.target.value\r\n        formData.append('image', value)\r\n        // array syntax to target all input fields\r\n        setValues({ ...values, [name]: value })\r\n    }\r\n    \r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        setValues({ ...values, error: false })\r\n        const user = { username, email, password: password || undefined, about }\r\n        formData.append('user', new Blob([JSON.stringify(user)], { type: 'application/json' }))\r\n        updateUser(formData).then(res => {\r\n            updateLocalStorage(user, () => {\r\n                setRedirectToProfile(true)\r\n            })\r\n        }).catch(error => {\r\n            setValues({ ...values, error: error.response.data.details })\r\n        })\r\n    }\r\n\r\n    const showError = () => (\r\n        <Alert severity=\"error\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </Alert>\r\n    )\r\n\r\n    const editProfileForm = () => (\r\n        <form className={classes.form} encType=\"multipart/form-data\" noValidate>\r\n            <img \r\n            src={photo} \r\n            alt={username} \r\n            onError={i => (i.target.src=\"https://cdn2.iconfinder.com/data/icons/teen-people-face-avatar-6/500/teen_109-512.png\")}\r\n            style={{ width: 'auto', height: '200px' }} />\r\n            <Typography component=\"h1\" variant=\"subtitle1\">\r\n                Profile Picture\r\n            </Typography>\r\n            <input\r\n            name=\"image\"\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            onChange={handleChange(\"image\")}\r\n            />\r\n            <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            label=\"Username\"\r\n            type=\"text\"\r\n            autoComplete=\"username\"\r\n            onChange={handleChange(\"username\")}\r\n            value={username}\r\n            />\r\n            <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            label=\"Email\"\r\n            autoComplete=\"email\"\r\n            onChange={handleChange(\"email\")}\r\n            value={email}\r\n            />\r\n            <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            autoComplete=\"current-password\"\r\n            onChange={handleChange(\"password\")}\r\n            value={password}\r\n            />\r\n            <TextField\r\n            variant=\"outlined\"\r\n            multiline\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            label=\"About\"\r\n            onChange={handleChange(\"about\")}\r\n            value={about}\r\n            />\r\n            <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            onClick={handleSubmit}\r\n            >\r\n            Edit Profile\r\n            </Button>\r\n        </form>\r\n    )\r\n    return (\r\n        <Container maxWidth=\"xs\">\r\n        {redirectToProfile ? <Redirect to={`/user/${id}`} /> : null}\r\n        <div className={classes.paper}>\r\n            {showError()}\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n                Edit Profile\r\n            </Typography>\r\n            {editProfileForm()}\r\n        </div>\r\n        </Container>\r\n    )\r\n}\r\n","import { Route, Redirect } from 'react-router-dom' \r\nimport { isAuthenticated } from './index'\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest }) {\r\n    return (\r\n        <Route {...rest} render={ props => isAuthenticated() ?\r\n            <Component {...props} /> : <Redirect to={{ pathname: '/signin', state: { from: props.location } }} />\r\n        } />\r\n    )\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button, Card, CardContent, Typography, CardActionArea, CardActions, CardMedia, Grid } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { isAuthenticated } from '../../auth'\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        flexGrow: 1\r\n    },\r\n    body: {\r\n        justifyContent: 'space-between'\r\n    },\r\n    card: {\r\n        height: '100%',\r\n        display: 'flex',\r\n        flexDirection: 'column'\r\n    }\r\n})\r\n\r\nexport default function FindPeopleCard({ person, toFollow, index }) {\r\n    const classes = useStyles()\r\n    const[photo, setPhoto] = useState(\"\")\r\n    const [error, setError] = useState(\"\")\r\n    const [followMessage, setFollowMessage] = useState(\"\")\r\n    \r\n    const fetchPhoto = id => {\r\n        axios({\r\n            method: 'get',\r\n            url: `/api/user/photo/${id}`,\r\n            responseType: 'arraybuffer',\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            const base = btoa(new Uint8Array(res.data).reduce((data, byte) => data + String.fromCharCode(byte), ''))\r\n            setPhoto(`data:image/*;base64, ${base}`)\r\n        }).catch(error => {\r\n            // if photo does not exist, set default photo\r\n            if(error) {\r\n                setPhoto(\"https://cdn2.iconfinder.com/data/icons/teen-people-face-avatar-6/500/teen_109-512.png\")\r\n            }\r\n        })\r\n    }\r\n\r\n    const handleFollow = () => {\r\n        axios({\r\n            method: 'put',\r\n            url: `/api/user/follow/${isAuthenticated().id}/${person.id}`,\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            if(res.data) {\r\n                toFollow(index)\r\n                setFollowMessage(`Following ${person.username}`)\r\n                setTimeout(function () {\r\n                    window.location.reload()\r\n                }, 2000)\r\n            }\r\n        }).catch(error => {\r\n            setError(error.res)\r\n        })\r\n    }\r\n\r\n    const showFollowMessage = () => (\r\n        <Alert severity=\"success\" style={{ display: followMessage ? '' : 'none' }}>\r\n            {followMessage}\r\n        </Alert>\r\n    )\r\n\r\n    useEffect(() => {\r\n        fetchPhoto(person.id)\r\n    }, [])\r\n\r\n    return (\r\n        <Grid item xs={12} sm={6} md={4}> \r\n        {showFollowMessage()}\r\n        <Card variant=\"outlined\" className={classes.card}>\r\n            <CardActionArea>\r\n                <CardMedia \r\n                component=\"img\"\r\n                image={photo}\r\n                height=\"250\"\r\n                />\r\n                <CardContent>\r\n                    <Typography variant=\"h6\" component=\"h6\">\r\n                        {person.username}             \r\n                    </Typography>\r\n                </CardContent>\r\n            </CardActionArea>\r\n            <CardActions>\r\n                <Button size=\"small\" color=\"primary\" onClick={() => window.location.href=`/user/${person.id}`}>\r\n                    View Profile\r\n                </Button>\r\n                <Button size=\"small\" color=\"primary\" component={Link} onClick={handleFollow}>\r\n                    Follow\r\n                </Button>\r\n            </CardActions>\r\n            </Card>\r\n        </Grid>\r\n    )\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { Container, Grid, Typography } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { isAuthenticated } from '../../auth'\r\nimport FindPeopleCard from './FindPeopleCard'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      marginTop: theme.spacing(3)\r\n    },\r\n    cardGrid: {\r\n        paddingTop: theme.spacing(3),\r\n        paddingBottom: theme.spacing(3)\r\n    }\r\n  }));\r\n\r\nexport default function FindPeople() {\r\n    const classes = useStyles()\r\n    const [people, setPeople] = useState([])\r\n\r\n    const findPeople = () => {\r\n        axios({\r\n            method: 'get',\r\n            url: `/api/user/findpeople/${isAuthenticated().id}`,\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            setPeople(res.data)\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    const toFollow = i => {\r\n        let follow = people\r\n        people.splice(i, 1)\r\n        setPeople(follow)\r\n    }\r\n\r\n    useEffect(() => {\r\n        findPeople()\r\n    }, [setPeople])\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Typography component=\"h1\" variant=\"h5\" align=\"center\">\r\n                Users\r\n            </Typography>\r\n            <Container className={classes.cardGrid} maxWidth=\"md\">\r\n                <Grid container spacing={4}>\r\n                    {people ?\r\n                    people.map((person, i) => {\r\n                        return <FindPeopleCard key={i} index={i} person={person} toFollow={i => toFollow(i)} />\r\n                    }) : []}\r\n                </Grid>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { Button, TextField, Typography, Container, CircularProgress } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { isAuthenticated } from '../../auth'\r\nimport axios from 'axios'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n      marginTop: theme.spacing(12),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    form: {\r\n      width: '100%', // Fix IE 11 issue.\r\n      marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n    },\r\n  }))\r\n\r\nexport default function NewPost() {\r\n    const classes = useStyles()\r\n    const [values, setValues] = useState({\r\n        title: '',\r\n        body: '',\r\n        formData: '',\r\n        error: '',\r\n        loading: false,\r\n        redirectToProfile: false\r\n    })\r\n    const { title, body, formData, error, loading, redirectToProfile } = values\r\n\r\n    const createPost = post => {\r\n        return axios({\r\n            method: 'post',\r\n            url: `/api/post/new/${isAuthenticated().id}`,\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            },\r\n            data: post\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        setValues({\r\n            ...values,\r\n            formData: new FormData()\r\n        })\r\n    }, [])\r\n\r\n    // higher order function to target name and event of form\r\n    const handleChange = name => e => {\r\n        const value = name === 'image' ? e.target.files[0] : e.target.value\r\n        formData.append('image', value)\r\n        // array syntax to target all input fields\r\n        setValues({ ...values, [name]: value })\r\n    }\r\n    \r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        setValues({ ...values, error: false, loading: true })\r\n        const post = { title, body }\r\n        formData.append('post', new Blob([JSON.stringify(post)], { type: 'application/json' }))\r\n        createPost(formData).then(res => {\r\n            setValues({ ...values, loading: false, title: '', body: '', redirectToProfile: true })\r\n        }).catch(error => {\r\n            setValues({ ...values, error: error.response.data.details })\r\n        })\r\n    }\r\n\r\n    const showLoading = () => (\r\n        <CircularProgress style={{ display: loading ? '' : 'none'}} />\r\n    )\r\n\r\n    const showError = () => (\r\n        <Alert severity=\"error\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </Alert>\r\n    )\r\n\r\n    const createPostForm = () => (\r\n        <form className={classes.form} encType=\"multipart/form-data\" noValidate>\r\n            <Typography component=\"h1\" variant=\"subtitle1\">\r\n                Upload Image Here\r\n            </Typography>\r\n            <input\r\n            name=\"image\"\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            onChange={handleChange(\"image\")}\r\n            /> \r\n            <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            label=\"Title\"\r\n            type=\"text\"\r\n            autoComplete=\"title\"\r\n            onChange={handleChange(\"title\")}\r\n            value={title}\r\n            />\r\n            <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            multiline\r\n            fullWidth\r\n            label=\"Body\"\r\n            type=\"text\"\r\n            autoComplete=\"body\"\r\n            onChange={handleChange(\"body\")}\r\n            value={body}\r\n            />\r\n            <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            onClick={handleSubmit}\r\n            >\r\n            Create Post\r\n            </Button>\r\n        </form>\r\n    )\r\n\r\n    return (\r\n        <Container maxWidth=\"xs\">\r\n        {redirectToProfile ? <Redirect to={`/user/${isAuthenticated().id}`} /> : null}\r\n        <div className={classes.paper}>\r\n            {showLoading()}\r\n            {showError()}\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n                Create New Post\r\n            </Typography>\r\n            {createPostForm()}\r\n        </div>\r\n        </Container>\r\n    )\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { Button, Box, Typography, Grid } from '@material-ui/core'\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { isAuthenticated } from '../../auth'\r\n\r\nexport default function Comment({ comment, comments, updateComments }) {\r\n    const[photo, setPhoto] = useState(\"\")\r\n    const { postId } = useParams()\r\n    \r\n    const fetchPhoto = id => {\r\n        axios({\r\n            method: 'get',\r\n            url: `/api/user/photo/${id}`,\r\n            responseType: 'arraybuffer',\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            const base = btoa(new Uint8Array(res.data).reduce((data, byte) => data + String.fromCharCode(byte), ''))\r\n            setPhoto(`data:image/*;base64, ${base}`)\r\n        }).catch(error => {\r\n            // if photo does not exist, set default photo\r\n            if(error) {\r\n                setPhoto(\"https://cdn2.iconfinder.com/data/icons/teen-people-face-avatar-6/500/teen_109-512.png\")\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchPhoto(comment.postedBy.id)\r\n    }, [])\r\n\r\n    const confirmDelete = () => {\r\n        let answer = window.confirm(\"Are you sure you want to delete your comment?\")\r\n        if(answer) {\r\n            deleteComment()\r\n        } \r\n    }\r\n\r\n    const deleteComment = () => {\r\n        axios({\r\n            method: 'put',\r\n            url: `/api/post/uncomment/${comment.id}/${postId}`,\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            updateComments(res.data.comments)\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Grid container spacing={6}>\r\n                <Grid item xs={4}>\r\n                    <Link to={`/user/${comment.postedBy.id}`}>\r\n                        <img src={photo} \r\n                        alt={comment.postedBy.username} \r\n                        onError={i => (i.target.src=\"https://cdn2.iconfinder.com/data/icons/teen-people-face-avatar-6/500/teen_109-512.png\")} \r\n                        style={{ width: '100%', height: '100%', borderRadius: '50%', border: '1px solid black' }}\r\n                        />\r\n                    </Link>\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                    <Typography variant=\"h6\">\r\n                        {comment.text}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                        <Box fontStyle=\"italic\">\r\n                            Posted by <Link to={`/user/${comment.postedBy.id}`} >{comment.postedBy.username}</Link> on {new Date(comment.created).toDateString()}\r\n                        </Box>\r\n                    </Typography>\r\n                    {isAuthenticated().id === comment.postedBy.id && (\r\n                    <>\r\n                        <Button size=\"small\" variant=\"contained\" color=\"secondary\" onClick={confirmDelete}>\r\n                            Remove\r\n                        </Button>\r\n                    </>\r\n                    )}\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n","import { useState } from 'react'\r\nimport { TextField, Typography, Button } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport axios from 'axios'\r\nimport { isAuthenticated } from '../../auth'\r\nimport Comment from './Comment'\r\n\r\nexport default function Comments({ postId, comments, updateComments }) {\r\n    const[values, setValues] = useState({\r\n        text: '',\r\n        error: ''\r\n    })\r\n    const { text, error } = values\r\n\r\n    const addComment = comment => {\r\n        return axios({\r\n            method: 'put',\r\n            url: `/api/post/comment/${isAuthenticated().id}/${postId}`,\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            },\r\n            data: comment\r\n        })\r\n    }\r\n\r\n    const handleChange = e => {\r\n        setValues({ ...values, text: e.target.value })\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        const comment = { text }\r\n        addComment(comment).then(res => {\r\n            setValues({ ...values, text: '' })\r\n            updateComments(res.data.comments)\r\n        }).catch(error => {\r\n            setValues({ ...values, error: error.response.data.details })\r\n        })\r\n    }\r\n\r\n    const showError = () => (\r\n        <Alert severity=\"error\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </Alert>\r\n    )\r\n\r\n    return (\r\n        <div>\r\n            {showError()}\r\n            <form onSubmit={handleSubmit}>\r\n                <TextField\r\n                style={{ width: '75%' }}\r\n                label=\"Leave a comment...\"\r\n                type=\"text\"\r\n                autoComplete=\"text\"\r\n                onChange={handleChange}\r\n                value={text}\r\n                />\r\n                <Button size=\"small\" variant=\"contained\" color=\"primary\" style={{ marginTop: '4%', marginLeft: '3%' }} onClick={handleSubmit}>\r\n                    Post\r\n                </Button>\r\n            </form>\r\n            <div>\r\n                <Typography variant=\"h6\" component=\"h1\">\r\n                    {comments.length} Comments\r\n                </Typography>\r\n                {comments ?\r\n                    comments.map((comment, i) => {\r\n                        return <Comment key={i} comment={comment} comments={comments} updateComments={updateComments} />      \r\n                    }) : []}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { useParams, Redirect, Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Button, Card, CardContent, Typography, CardActions, CardMedia, Box } from '@material-ui/core'\r\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp'\r\nimport { isAuthenticated } from '../../auth'\r\nimport Comments from './Comments'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    card: {\r\n        height: \"100%\",\r\n        maxWidth: 500,\r\n        margin: `${theme.spacing(1)}px auto`,\r\n        padding: theme.spacing(1),\r\n    }\r\n}))\r\n\r\nexport default function SinglePost() {\r\n    const classes = useStyles()\r\n    const [post, setPost] = useState(\"\")\r\n    const [photo, setPhoto] = useState(\"\")\r\n    const [redirect, setRedirect] = useState(false)\r\n    const [like, setLike] = useState(false)\r\n    const [likes, setLikes] = useState(0)\r\n    const [comments, setComments] = useState([])\r\n    const { postId } = useParams()\r\n    const posterId = post.postedBy ? post.postedBy.id : \"\"\r\n    const posterName = post.postedBy ? post.postedBy.username : \"Unknown\"\r\n\r\n    const checkLike = likes => {\r\n        let match\r\n        for(let like of likes) {\r\n            match = like.id === isAuthenticated().id\r\n        }\r\n        return match\r\n    }\r\n\r\n    const fetchPost = () => {\r\n        axios({\r\n            method: 'get',\r\n            url: `/api/post/${postId}`,\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            setPost(res.data)\r\n            setLikes(res.data.likes.length)\r\n            setLike(checkLike(res.data.likes))\r\n            setComments(res.data.comments)\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    const fetchPhoto = () => {\r\n        axios({\r\n            method: 'get',\r\n            url: `/api/post/photo/${postId}`,\r\n            responseType: 'arraybuffer',\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            const base = btoa(new Uint8Array(res.data).reduce((data, byte) => data + String.fromCharCode(byte), ''))\r\n            setPhoto(`data:image/*;base64, ${base}`)\r\n        }).catch(error => {\r\n            // if photo does not exist, set default photo\r\n            if(error) {\r\n                setPhoto(\"https://www.flickr.com/photos/glaciernps/28806955114/in/album-72157670140016374/\")\r\n            }\r\n        })\r\n    }\r\n\r\n    const confirmDelete = () => {\r\n        let answer = window.confirm(\"Are you sure you want to delete your post?\")\r\n        if(answer) {\r\n            deletePost()\r\n        } \r\n    }\r\n\r\n    const likeToggle = async () => {\r\n        let callApi = like ? \r\n        await axios({\r\n            method: 'put',\r\n            url: `/api/post/unlike/${isAuthenticated().id}/${postId}`,\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            setLike(!like)\r\n            setLikes(res.data.likes.length)\r\n        }).catch(error => {\r\n            console.log(error)\r\n        }) \r\n        :         \r\n        await axios({\r\n            method: 'put',\r\n            url: `/api/post/like/${isAuthenticated().id}/${postId}`,\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            setLike(!like)\r\n            setLikes(res.data.likes.length)\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n        return callApi\r\n    }\r\n\r\n    const updateComments = comments => {\r\n        setComments(comments)\r\n    }\r\n\r\n    const deletePost = () => {\r\n        axios({\r\n            method: 'delete',\r\n            url: `/api/post/delete/${isAuthenticated().id}/${postId}`,\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            setRedirect(true)\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchPost()\r\n        fetchPhoto()\r\n    }, [])\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            {redirect ? <Redirect to='/' /> : null}\r\n            <Typography variant=\"h6\" component=\"h6\" style={{ textAlign: 'center' }}>\r\n                {post.title}             \r\n            </Typography>\r\n            <Card variant=\"outlined\" className={classes.card}>\r\n                <CardMedia \r\n                component=\"img\"\r\n                image={photo}\r\n                height=\"300px\"\r\n                width=\"100%\"\r\n                />\r\n                <CardContent>\r\n                    <h2 onClick={likeToggle} style={{ display: 'flex', alignItems: 'center' }}>\r\n                        <ThumbUpIcon style={{ marginRight: '1%' }} />\r\n                        {likes} likes\r\n                    </h2>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                        {post.body}\r\n                    </Typography>\r\n                    <br/>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                        <Box fontStyle=\"italic\">\r\n                            Posted by <Link to={`/user/${posterId}`} >{posterName}</Link> on {new Date(post.created).toDateString()}\r\n                        </Box>\r\n                    </Typography>\r\n                </CardContent>\r\n                <CardActions>\r\n                {isAuthenticated().id === posterId && (\r\n                    <>\r\n                        <Button size=\"small\" variant=\"contained\" color=\"primary\" to={`/`} component={Link}>\r\n                            Home\r\n                        </Button>\r\n                        <Button size=\"small\" variant=\"contained\" color=\"primary\" href={`/post/edit/${isAuthenticated().id}/${postId}`}>\r\n                            Edit Post\r\n                        </Button>\r\n                        <Button size=\"small\" variant=\"contained\" color=\"secondary\" onClick={confirmDelete}>\r\n                            Delete Post\r\n                        </Button>\r\n                    </>\r\n                    )}\r\n                </CardActions>\r\n                <Comments postId={postId} comments={comments} updateComments={updateComments} />\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport { useParams, Redirect } from 'react-router-dom'\r\nimport { Button, TextField, Typography, Container, CircularProgress } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { isAuthenticated } from '../../auth'\r\nimport axios from 'axios'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n      marginTop: theme.spacing(12),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    form: {\r\n      width: '100%', // Fix IE 11 issue.\r\n      marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n    },\r\n  }))\r\n\r\nexport default function EditPost() {\r\n    const classes = useStyles()\r\n    const [values, setValues] = useState({\r\n        title: '',\r\n        body: '',\r\n        formData: '',\r\n        error: '',\r\n        loading: false,\r\n        redirectToProfile: false\r\n    })\r\n    const { title, body, formData, error, loading, redirectToProfile } = values\r\n    const [photo, setPhoto] = useState(\"\")\r\n    const { postId } = useParams()\r\n\r\n    const fetchPost = () => {\r\n        axios({\r\n            method: 'get',\r\n            url: `/api/post/${postId}`,\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            setValues({\r\n                id: res.data.id,\r\n                title: res.data.title,\r\n                body: res.data.body,\r\n                formData: new FormData()\r\n             })\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    const fetchPhoto = () => {\r\n        axios({\r\n            method: 'get',\r\n            url: `/api/post/photo/${postId}`,\r\n            responseType: 'arraybuffer',\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            }\r\n        }).then(res => {\r\n            const base = btoa(new Uint8Array(res.data).reduce((data, byte) => data + String.fromCharCode(byte), ''))\r\n            setPhoto(`data:image/*;base64, ${base}`)\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    const updatePost = post => {\r\n        return axios({\r\n            method: 'put',\r\n            url: `/api/post/update/${isAuthenticated().id}/${postId}`,\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                Authorization: `Bearer ${isAuthenticated().token}`\r\n            },\r\n            data: post\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchPost()\r\n        fetchPhoto()\r\n    }, [])\r\n\r\n    const handleChange = name => e => {\r\n        const value = name === 'image' ? e.target.files[0] : e.target.value\r\n        formData.append('image', value)\r\n        // array syntax to target all input fields\r\n        setValues({ ...values, [name]: value })\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        setValues({ ...values, error: false })\r\n        const post = { title, body }\r\n        formData.append('post', new Blob([JSON.stringify(post)], { type: 'application/json' }))\r\n        updatePost(formData).then(res => {\r\n            setValues({ ...values, loading: false, title: '', body: '', redirectToProfile: true })\r\n        }).catch(error => {\r\n            console.log(error)\r\n            setValues({ ...values, error: error.response.data.details })\r\n        })\r\n    }\r\n\r\n    const showLoading = () => (\r\n        <CircularProgress style={{ display: loading ? '' : 'none'}} />\r\n    )\r\n\r\n    const showError = () => (\r\n        <Alert severity=\"error\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </Alert>\r\n    )\r\n\r\n    const editPostForm = () => (\r\n        <form className={classes.form} encType=\"multipart/form-data\" noValidate>\r\n            <img \r\n            src={photo} \r\n            alt={title} \r\n            onError={i => (i.target.src=\"https://www.flickr.com/photos/glaciernps/28806955114/in/album-72157670140016374/\")}\r\n            style={{ width: '100%', height: '200px' }} />\r\n            <Typography component=\"h1\" variant=\"subtitle1\">\r\n                Upload Image Here\r\n            </Typography>\r\n            <input\r\n            name=\"image\"\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            onChange={handleChange(\"image\")}\r\n            /> \r\n            <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            label=\"Title\"\r\n            type=\"text\"\r\n            autoComplete=\"title\"\r\n            onChange={handleChange(\"title\")}\r\n            value={title}\r\n            />\r\n            <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            multiline\r\n            fullWidth\r\n            label=\"Body\"\r\n            type=\"text\"\r\n            autoComplete=\"body\"\r\n            onChange={handleChange(\"body\")}\r\n            value={body}\r\n            />\r\n            <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            onClick={handleSubmit}\r\n            >\r\n            Edit Post\r\n            </Button>\r\n        </form>\r\n    )\r\n\r\n    return (\r\n        <Container maxWidth=\"xs\">\r\n        {redirectToProfile ? <Redirect to={`/`} /> : null}\r\n        <div className={classes.paper}>\r\n            {showLoading()}\r\n            {showError()}\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n                Edit Post\r\n            </Typography>\r\n            {editPostForm()}\r\n        </div>\r\n        </Container>\r\n    )\r\n}\r\n","import { useState } from 'react'\r\nimport { forgotPassword } from '../../auth'\r\nimport { TextField, Container, Button, Typography } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Alert } from '@material-ui/lab'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n      marginTop: theme.spacing(5),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    form: {\r\n      width: '100%', // Fix IE 11 issue.\r\n      marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n    },\r\n  }))\r\n\r\nexport default function ForgotPassword() {\r\n    const classes = useStyles()\r\n    const [values, setValues] = useState({\r\n        email: '',\r\n        message: '',\r\n        success: false,\r\n        error: ''\r\n    })\r\n    const { email, message, success, error } = values\r\n\r\n    const handleChange = e => {\r\n        setValues({ ...values, success: false, email: e.target.value })\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        forgotPassword(email).then(res => {\r\n            setValues({ ...values, message: res.data, success: true, error: false })\r\n        }).catch(error => {\r\n            setValues({ ...values, success: false, error: error.response.data })\r\n        })\r\n    }\r\n\r\n    const showError = () => (\r\n        <Alert severity=\"error\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </Alert>\r\n    )\r\n\r\n    const showSuccess = () => (\r\n        <Alert severity=\"success\" style={{ display: success ? '' : 'none' }}>\r\n            {message}\r\n        </Alert>\r\n    )\r\n\r\n    return (\r\n        <Container maxWidth=\"xs\">\r\n        <div className={classes.paper}>\r\n            {showError()}\r\n            {showSuccess()}\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n                Forgot Password?\r\n            </Typography>\r\n            <form onSubmit={handleSubmit} className={classes.form} noValidate>\r\n                <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                label=\"Email\"\r\n                autoComplete=\"email\"\r\n                onChange={handleChange}\r\n                value={email}\r\n                />\r\n                <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit} onClick={handleSubmit}>\r\n                    Submit\r\n                </Button>\r\n            </form>\r\n        </div>\r\n        </Container>\r\n    )\r\n}\r\n","import { useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { Button, TextField, Link, Typography, Container } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { resetPassword } from '../../auth'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n      marginTop: theme.spacing(5),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    form: {\r\n      width: '100%', // Fix IE 11 issue.\r\n      marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n    },\r\n  }))\r\n\r\nexport default function ResetPassword() {\r\n    const classes = useStyles()\r\n    const [values, setValues] = useState({\r\n        password: '',\r\n        message: '',\r\n        success: false,\r\n        error: ''\r\n    })\r\n    const { userId, token } = useParams()\r\n    const { password, message, success, error } = values\r\n\r\n    const handleChange = e => {\r\n        setValues({ ...values, success: false, password: e.target.value })\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        const resetInfo = { userId, token, password }\r\n        resetPassword(resetInfo).then(res => {\r\n            console.log(res.data)\r\n            setValues({ ...values, message: res.data, success: true, error: false })\r\n        }).catch(error => {\r\n            console.log(error.response)\r\n            setValues({ ...values, success: false, error: error.response.data })\r\n        })\r\n    }\r\n\r\n    const showError = () => (\r\n        <Alert severity=\"error\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </Alert>\r\n    )\r\n\r\n    const showSuccess = () => (\r\n        <Alert severity=\"success\" style={{ display: success ? '' : 'none' }}>\r\n            {message} Please <Link href=\"/signin\" variant=\"body2\" >Sign In</Link>\r\n        </Alert>\r\n    )\r\n\r\n    return (\r\n        <Container maxWidth=\"xs\">\r\n        <div className={classes.paper}>\r\n            {showError()}\r\n            {showSuccess()}\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n                Reset Password\r\n            </Typography>\r\n            <form onSubmit={handleSubmit} className={classes.form} noValidate>\r\n                <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                autoComplete=\"current-password\"\r\n                onChange={handleChange}\r\n                value={password}\r\n                />\r\n                <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit} onClick={handleSubmit}>\r\n                    Submit\r\n                </Button>\r\n            </form>\r\n        </div>\r\n        </Container>\r\n    )\r\n}\r\n","import { BrowserRouter, Route, Switch } from 'react-router-dom'\r\nimport Menu from './components/Nav/Menu'\r\nimport Home from './components/Home'\r\nimport Profile from './components/User/Profile'\r\nimport Signup from './components/User/Signup'\r\nimport Signin from './components/User/Signin'\r\nimport Users from './components/User/Users'\r\nimport EditProfile from './components/User/EditProfile'\r\nimport PrivateRoute from './auth/PrivateRoute'\r\nimport FindPeople from './components/User/FindPeople'\r\nimport NewPost from './components/Post/NewPost'\r\nimport SinglePost from './components/Post/SinglePost'\r\nimport EditPost from './components/Post/EditPost'\r\nimport ForgotPassword from './components/User/ForgotPassword'\r\nimport ResetPassword from './components/User/ResetPassword'\r\n\r\nexport default function Main() {\r\n    return (\r\n        <BrowserRouter>\r\n            <Menu />\r\n            <Switch>\r\n                <Route exact path='/' component={Home} />\r\n                <Route exact path='/forgot-password' component={ForgotPassword} />\r\n                <Route exact path='/resetpassword/:userId/:token' component={ResetPassword} />\r\n                <Route exact path='/signup' component={Signup} />\r\n                <Route exact path='/signin' component={Signin} />\r\n                <PrivateRoute exact path='/user/:userId' component={Profile} />\r\n                <PrivateRoute exact path='/user/edit/:userId' component={EditProfile} />\r\n                <PrivateRoute exact path='/findpeople' component={FindPeople} />\r\n                <Route exact path='/users' component={Users} />\r\n                <PrivateRoute exact path='/post/edit/:userId/:postId' component={EditPost} />\r\n                <PrivateRoute exact path='/post/create' component={NewPost} />\r\n                <PrivateRoute exact path='/post/:postId' component={SinglePost} />\r\n            </Switch>\r\n        </BrowserRouter>\r\n    )\r\n}","import Main from'./Main'\r\nimport './App.css'\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Main />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}