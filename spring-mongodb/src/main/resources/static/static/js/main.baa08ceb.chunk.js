(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{121:function(e,t,a){},122:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),o=a.n(c),r=a(15),i=a.n(r),s=a(11),l=a(17),d=a(8),u=a(9),j=a.n(u),p=a(75),b=function(e){if("undefined"!==typeof window)return localStorage.removeItem("jwt"),e(),j.a.get("/api/auth/signout").then((function(e){return e.data})).catch((function(e){return console.log(e)}))},m=function(){if("undefined"===typeof window)return!1;if(localStorage.getItem("jwt")){var e=1e3*Object(p.a)(localStorage.getItem("jwt")).exp-6e4;Date.now()>=e&&localStorage.clear();var t={};return t.id=JSON.parse(localStorage.getItem("userid")),t.username=JSON.parse(localStorage.getItem("username")),t.email=JSON.parse(localStorage.getItem("useremail")),t.token=JSON.parse(localStorage.getItem("jwt")),t}return!1},h=a(152),f=a(154),O=a(156),g=a(157),x=a(124),y=a(171),v=a(158),w=a(159),C=Object(h.a)((function(e){return{title:{flexGrow:1},button:{margin:e.spacing(1,1.5)}}}));var S=Object(l.h)((function(e){var t=e.history,a=C(),o=Object(c.useState)(0),r=Object(d.a)(o,2),i=r[0],l=r[1],u=function(e,t){return e.location.pathname===t?{color:"#00FFFF"}:{color:"white"}};return Object(n.jsxs)("div",{children:[Object(n.jsx)(f.a,{}),Object(n.jsx)(O.a,{position:"relative",id:"header-color",children:Object(n.jsxs)(g.a,{children:[Object(n.jsx)(x.a,{variant:"h6",className:a.title,children:Object(n.jsx)(s.b,{style:{textDecoration:"none",color:"white"},to:"/",children:"Social Media App"})}),m()?Object(n.jsxs)(c.Fragment,{children:[Object(n.jsxs)(y.a,{variant:"fullWidth",value:i,onChange:function(e,t){l(t)},"aria-label":"nav tabs example",children:[Object(n.jsx)(v.a,{label:"Home",to:"/",component:s.b,style:u(t,"/")}),Object(n.jsx)(v.a,{label:"".concat(m().username,"'s profile"),onClick:function(){return window.location.href="/user/".concat(m().id)},style:u(t,"/user/".concat(m().id))}),Object(n.jsx)(v.a,{label:"Users",to:"/users",component:s.b,style:u(t,"/users")}),Object(n.jsx)(v.a,{label:"Find People",to:"/findpeople",component:s.b,style:u(t,"/findpeople")}),Object(n.jsx)(v.a,{label:"Create Post",to:"/post/create",component:s.b,style:u(t,"/post/create")})]}),Object(n.jsx)(w.a,{variant:"contained",color:"secondary",className:a.button,onClick:function(){return b((function(){t.push("/")}))},children:"Sign Out"})]}):Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)(w.a,{variant:"contained",color:"primary",to:"/signup",component:s.b,className:a.button,children:"Sign Up"}),Object(n.jsx)(w.a,{variant:"contained",color:"primary",to:"/signin",component:s.b,className:a.button,children:"Sign In"})]})]})})]})})),A=a(165),k=a(160),T=a(161),N=a(162),B=a(163),I=a(170),D=a(164),P=Object(h.a)((function(e){return{root:{flexGrow:1},body:{justifyContent:"space-between"},card:{height:"100%",display:"flex",flexDirection:"column"}}}));function z(e){var t=e.post,a=P(),o=Object(c.useState)(""),r=Object(d.a)(o,2),i=r[0],l=r[1],u=t.postedBy?"/user/".concat(t.postedBy.id):"",p=t.postedBy?t.postedBy.username:"Unknown";return Object(c.useEffect)((function(){var e;e=t.id,j()({method:"get",url:"/api/post/photo/".concat(e),responseType:"arraybuffer",headers:{Accept:"*/*",Authorization:"Bearer ".concat(m().token)}}).then((function(e){var t=btoa(new Uint8Array(e.data).reduce((function(e,t){return e+String.fromCharCode(t)}),""));l("data:image/*;base64, ".concat(t))})).catch((function(e){e&&l("https://www.flickr.com/photos/glaciernps/28806955114/in/album-72157670140016374/")}))}),[]),Object(n.jsx)(k.a,{item:!0,xs:12,sm:6,md:4,children:Object(n.jsxs)(T.a,{variant:"outlined",className:a.card,children:[Object(n.jsx)(N.a,{component:"img",image:i,height:"200px",width:"100%"}),Object(n.jsxs)(B.a,{children:[Object(n.jsx)(x.a,{variant:"h6",component:"h6",style:{marginBottom:"5%"},children:t.title}),Object(n.jsx)(x.a,{variant:"body2",color:"textSecondary",component:"p",children:t.body.substring(0,25)}),Object(n.jsx)("br",{}),Object(n.jsx)(x.a,{variant:"body2",color:"textSecondary",component:"p",children:Object(n.jsxs)(I.a,{fontStyle:"italic",children:["Posted by ",Object(n.jsx)(s.b,{to:u,children:p})," on ",new Date(t.created).toDateString()]})})]}),Object(n.jsx)(D.a,{children:Object(n.jsx)(w.a,{size:"small",variant:"contained",color:"primary",to:"/post/".concat(t.id),component:s.b,children:"Read More"})})]})})}var W=Object(h.a)((function(e){return{root:{marginTop:e.spacing(5)},cardGrid:{paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));function E(){var e=W(),t=Object(c.useState)([]),a=Object(d.a)(t,2),o=a[0],r=a[1];return Object(c.useEffect)((function(){j()({method:"get",url:"/api/post/",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer ".concat(m().token)}}).then((function(e){r(e.data)})).catch((function(e){console.log(e)}))}),[r]),Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(x.a,{component:"h1",variant:"h5",align:"center",children:"Recent Posts"}),Object(n.jsx)(A.a,{className:e.cardGrid,maxWidth:"md",children:Object(n.jsx)(k.a,{container:!0,spacing:4,children:o?o.map((function(e,t){return Object(n.jsx)(z,{post:e},t)})):[]})})]})}var U=a.p+"static/media/toa-heftiba-fbCxL_wEo5M-unsplash.42cc08e1.jpg",F=Object(h.a)((function(e){return{root:{height:"100vh"},image:{height:"100%",width:"100%"}}}));function J(){var e=F();return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(f.a,{}),Object(n.jsx)("img",{src:U,className:e.image,alt:"Landing"})]})}var q=Object(h.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,padding:e.spacing(4,0,6)}}}));function R(){var e=q();return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(f.a,{}),Object(n.jsxs)(A.a,{maxWidth:"sm",children:[Object(n.jsx)(x.a,{component:"h1",variant:"h5",align:"center",color:"textPrimary",gutterBottom:!0,children:"Welcome to Social Media App"}),Object(n.jsx)(x.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:"Share your views and ideas without discrimination. Stay in touch with loved ones far from home. Connect with friends, new and old."})]}),m()?Object(n.jsx)(E,{}):Object(n.jsx)(J,{})]})}function _(e){var t=e.following,a=Object(c.useState)(""),o=Object(d.a)(a,2),r=o[0],i=o[1];return Object(c.useEffect)((function(){var e;e=t.id,j()({method:"get",url:"/api/user/photo/".concat(e),responseType:"arraybuffer",headers:{Accept:"*/*",Authorization:"Bearer ".concat(m().token)}}).then((function(e){var t=btoa(new Uint8Array(e.data).reduce((function(e,t){return e+String.fromCharCode(t)}),""));i("data:image/*;base64, ".concat(t))})).catch((function(e){e&&i("https://cdn2.iconfinder.com/data/icons/teen-people-face-avatar-6/500/teen_109-512.png")}))}),[]),Object(n.jsx)("div",{children:Object(n.jsx)(s.b,{onClick:function(){return window.location.href="/user/".concat(t.id)},children:Object(n.jsxs)(k.a,{container:!0,spacing:6,children:[Object(n.jsx)(k.a,{item:!0,xs:3,children:Object(n.jsx)("img",{src:r,alt:t.username,onError:function(e){return e.target.src="https://cdn2.iconfinder.com/data/icons/teen-people-face-avatar-6/500/teen_109-512.png"},style:{width:"auto",height:"100px",borderRadius:"50%",border:"1px solid black"}})}),Object(n.jsx)(k.a,{item:!0,xs:3,children:Object(n.jsx)(x.a,{variant:"h6",component:"h6",children:t.username})})]})})})}function G(e){var t=e.follower,a=Object(c.useState)(""),o=Object(d.a)(a,2),r=o[0],i=o[1];return Object(c.useEffect)((function(){var e;e=t.id,j()({method:"get",url:"/api/user/photo/".concat(e),responseType:"arraybuffer",headers:{Accept:"*/*",Authorization:"Bearer ".concat(m().token)}}).then((function(e){var t=btoa(new Uint8Array(e.data).reduce((function(e,t){return e+String.fromCharCode(t)}),""));i("data:image/*;base64, ".concat(t))})).catch((function(e){e&&i("https://cdn2.iconfinder.com/data/icons/teen-people-face-avatar-6/500/teen_109-512.png")}))}),[]),Object(n.jsx)("div",{children:Object(n.jsx)(s.b,{onClick:function(){return window.location.href="/user/".concat(t.id)},children:Object(n.jsxs)(k.a,{container:!0,spacing:6,children:[Object(n.jsx)(k.a,{item:!0,xs:3,children:Object(n.jsx)("img",{src:r,alt:t.username,onError:function(e){return e.target.src="https://cdn2.iconfinder.com/data/icons/teen-people-face-avatar-6/500/teen_109-512.png"},style:{width:"auto",height:"100px",borderRadius:"50%",border:"1px solid black"}})}),Object(n.jsx)(k.a,{item:!0,xs:3,children:Object(n.jsx)(x.a,{variant:"h6",component:"h6",children:t.username})})]})})})}var V=Object(h.a)((function(e){return{root:{marginTop:e.spacing(3)},grid:{justifyContent:"center"}}}));function H(){var e=V(),t=Object(c.useState)(""),a=Object(d.a)(t,2),o=a[0],r=a[1],i=Object(c.useState)(""),u=Object(d.a)(i,2),p=u[0],h=u[1],f=Object(c.useState)([]),O=Object(d.a)(f,2),g=O[0],y=O[1],v=Object(c.useState)(!1),C=Object(d.a)(v,2),S=C[0],A=C[1],T=Object(c.useState)(!1),N=Object(d.a)(T,2),B=N[0],D=N[1],P=Object(c.useState)(!1),z=Object(d.a)(P,2),W=z[0],E=z[1],U=Object(l.g)().userId,F=function(){j()({method:"get",url:"/api/user/".concat(U),headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer ".concat(m().token)}}).then((function(e){r(e.data),function(e){return e.followers.find((function(e){return e.id===m().id}))}(e.data)&&E(!0)})).catch((function(e){e&&A(!0)}))};Object(c.useEffect)((function(){F(),j()({method:"get",url:"/api/user/photo/".concat(U),responseType:"arraybuffer",headers:{Accept:"*/*",Authorization:"Bearer ".concat(m().token)}}).then((function(e){var t=btoa(new Uint8Array(e.data).reduce((function(e,t){return e+String.fromCharCode(t)}),""));h("data:image/*;base64, ".concat(t))})).catch((function(e){console.log(e)})),j()({method:"get",url:"/api/post/by/".concat(U),headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer ".concat(m().token)}}).then((function(e){y(e.data)})).catch((function(e){console.log(e)}))}),[]);return Object(n.jsxs)("div",{className:e.root,children:[S?Object(n.jsx)(l.a,{to:"/signin"}):null,B?Object(n.jsx)(l.a,{to:"/"}):null,Object(n.jsxs)(k.a,{container:!0,spacing:5,className:e.grid,children:[Object(n.jsxs)(k.a,{item:!0,xs:3,children:[Object(n.jsx)(x.a,{component:"h1",variant:"h5",children:"Profile"}),Object(n.jsx)("img",{src:p,alt:o.username,onError:function(e){return e.target.src="https://cdn2.iconfinder.com/data/icons/teen-people-face-avatar-6/500/teen_109-512.png"},style:{width:"auto",height:"200px"}}),Object(n.jsx)("hr",{}),Object(n.jsx)(x.a,{variant:"subtitle1",component:"p",children:o.about}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{style:{marginTop:"4%"},children:[Object(n.jsx)(x.a,{variant:"h6",component:"h1",children:"Followers"}),o.followers?o.followers.map((function(e,t){return Object(n.jsx)(G,{follower:e},t)})):[]]})]}),Object(n.jsxs)(k.a,{item:!0,xs:4,children:[Object(n.jsxs)("div",{style:{marginTop:"10%"},children:[Object(n.jsxs)(x.a,{variant:"subtitle1",component:"p",children:["Hello ",o.username]}),Object(n.jsxs)(x.a,{variant:"subtitle1",component:"p",children:["Email: ",o.email]}),Object(n.jsxs)(x.a,{variant:"subtitle1",component:"p",children:["Joined: ",new Date(o.createdDate).toDateString()]})]}),m().id===U?Object(n.jsxs)("div",{style:{marginTop:"5%",marginBottom:"1%"},children:[Object(n.jsx)(w.a,{variant:"contained",href:"/post/create",style:{marginRight:"5%"},children:"Create Post"}),Object(n.jsx)(w.a,{variant:"contained",color:"primary",href:"/user/edit/".concat(U),children:"Edit Profile"}),Object(n.jsx)(w.a,{variant:"contained",color:"secondary",style:{marginLeft:"5%"},onClick:function(){window.confirm("Are you sure you want to delete your account?")&&j()({method:"delete",url:"/api/user/delete/".concat(U),headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer ".concat(m().token)}}).then((function(e){b((function(){return console.log("User deleted successfully!")})),D(!0)})).catch((function(e){console.log(e)}))},children:"Delete Profile"})]}):Object(n.jsx)("div",{style:{marginTop:"5%",marginBottom:"1%"},children:W?Object(n.jsx)(w.a,{variant:"contained",color:"secondary",onClick:function(){j()({method:"put",url:"/api/user/unfollow/".concat(m().id,"/").concat(U),headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer ".concat(m().token)}}).then((function(e){E(!W)})).catch((function(e){console.log(e)}))},children:"Unfollow"}):Object(n.jsx)(w.a,{variant:"contained",color:"primary",onClick:function(){j()({method:"put",url:"/api/user/follow/".concat(m().id,"/").concat(U),headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer ".concat(m().token)}}).then((function(e){E(!W)})).catch((function(e){console.log(e)}))},children:"Follow"})}),Object(n.jsxs)("div",{style:{marginTop:"16%"},children:[Object(n.jsx)(x.a,{variant:"h6",component:"h1",children:"Following"}),o.following?o.following.map((function(e,t){return Object(n.jsx)(_,{following:e},t)})):[]]})]}),Object(n.jsxs)(k.a,{item:!0,xs:3,style:{marginTop:"16%"},children:[Object(n.jsx)(x.a,{variant:"h6",component:"h1",children:"Posts"}),g?g.map((function(e,t){return Object(n.jsx)("div",{children:Object(n.jsx)(s.b,{to:"/post/".concat(e.id),children:Object(n.jsx)(x.a,{variant:"h6",component:"h6",children:Object(n.jsx)(I.a,{fontWeight:"fontWeightBold",children:e.title})})})},t)})):[]]})]})]})}var L=a(26),M=a(6),K=a(166),Q=a(169),X=a(173),Y=a(172),Z=a(54),$=a.n(Z),ee=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function te(){var e=ee(),t=Object(c.useState)({username:"",email:"",password:"",error:"",success:!1}),a=Object(d.a)(t,2),o=a[0],r=a[1],i=o.username,s=o.email,l=o.password,u=o.error,p=o.success,b=function(e){return function(t){r(Object(M.a)(Object(M.a)({},o),{},Object(L.a)({success:!1},e,t.target.value)))}},m=function(e){e.preventDefault(),r(Object(M.a)(Object(M.a)({},o),{},{error:!1})),function(e){return j()({method:"post",url:"/api/auth/signup",headers:{Accept:"*/*","Content-Type":"application/json"},data:JSON.stringify(e)})}({username:i,email:s,password:l}).then((function(e){r(Object(M.a)(Object(M.a)({},o),{},{username:"",email:"",password:"",error:"",success:!0}))})).catch((function(e){r(Object(M.a)(Object(M.a)({},o),{},{error:e.response.data.details,success:!1}))}))};return Object(n.jsx)(A.a,{maxWidth:"xs",children:Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(Y.a,{severity:"error",style:{display:u?"":"none"},children:u}),Object(n.jsxs)(Y.a,{severity:"success",style:{display:p?"":"none"},children:["Success! User created. Please ",Object(n.jsx)(K.a,{href:"/signin",variant:"body2",children:"Sign In"})]}),Object(n.jsx)(X.a,{className:e.avatar,children:Object(n.jsx)($.a,{})}),Object(n.jsx)(x.a,{component:"h1",variant:"h5",children:"Sign Up"}),Object(n.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(n.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Username",type:"text",autoComplete:"username",onChange:b("username"),value:i}),Object(n.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email",autoComplete:"email",onChange:b("email"),value:s}),Object(n.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",autoComplete:"current-password",onChange:b("password"),value:l}),Object(n.jsx)(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:m,children:"Sign Up"}),Object(n.jsx)(k.a,{container:!0,children:Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(K.a,{href:"/signin",variant:"body2",children:"Already have an account? Sign In"})})})]})]})})}var ae=a(167),ne=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},button:{margin:e.spacing(2,0,2)}}}));function ce(){var e=ne(),t=Object(c.useState)({username:"",password:"",error:"",loading:!1,redirectToReferer:!0}),a=Object(d.a)(t,2),o=a[0],r=a[1],i=o.username,u=o.password,p=o.error,b=o.loading,h=o.redirectToReferer,f=function(e){return function(t){r(Object(M.a)(Object(M.a)({},o),{},Object(L.a)({error:!1},e,t.target.value)))}},O=function(e){var t;e.preventDefault(),r(Object(M.a)(Object(M.a)({},o),{},{error:!1,loading:!0})),(t={username:i,password:u},j()({method:"post",url:"/api/auth/signin",headers:{Accept:"*/*","Content-Type":"application/json"},data:JSON.stringify(t)})).then((function(e){!function(e,t){"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e.data.authenticationToken)),localStorage.setItem("userid",JSON.stringify(e.data.userId)),localStorage.setItem("username",JSON.stringify(e.data.username)),localStorage.setItem("useremail",JSON.stringify(e.data.userEmail)),t())}(e,(function(){r(Object(M.a)(Object(M.a)({},o),{},{redirectToReferer:!0}))}))})).catch((function(e){r(Object(M.a)(Object(M.a)({},o),{},{error:e.response.data.details,loading:!1}))}))};return Object(n.jsx)(A.a,{maxWidth:"xs",children:Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(Y.a,{severity:"error",style:{display:p?"":"none"},children:p}),Object(n.jsx)(ae.a,{style:{display:b?"":"none"}}),Object(n.jsx)(X.a,{className:e.avatar,children:Object(n.jsx)($.a,{})}),Object(n.jsx)(x.a,{component:"h1",variant:"h5",children:"Sign In"}),Object(n.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(n.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Username",type:"text",autoComplete:"username",onChange:f("username"),value:i}),Object(n.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",autoComplete:"current-password",onChange:f("password"),value:u}),Object(n.jsx)(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.button,onClick:O,children:"Sign In"}),Object(n.jsx)(w.a,{fullWidth:!0,variant:"contained",color:"secondary",to:"/forgot-password",className:e.button,component:s.b,children:"Forgot Password"}),Object(n.jsx)(k.a,{container:!0,children:Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(s.b,{to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})})]}),function(){if(h&&m())return Object(n.jsx)(l.a,{to:"/"})}()]})})}var oe=Object(h.a)({root:{flexGrow:1},body:{justifyContent:"space-between"},card:{height:"100%",display:"flex",flexDirection:"column"}});function re(e){var t=e.user,a=oe(),o=Object(c.useState)(""),r=Object(d.a)(o,2),i=r[0],s=r[1];return Object(c.useEffect)((function(){var e;e=t.id,j()({method:"get",url:"/api/user/photo/".concat(e),responseType:"arraybuffer",headers:{Accept:"*/*",Authorization:"Bearer ".concat(m().token)}}).then((function(e){var t=btoa(new Uint8Array(e.data).reduce((function(e,t){return e+String.fromCharCode(t)}),""));s("data:image/*;base64, ".concat(t))})).catch((function(e){e&&s("https://cdn2.iconfinder.com/data/icons/teen-people-face-avatar-6/500/teen_109-512.png")}))}),[]),Object(n.jsx)(k.a,{item:!0,xs:12,sm:6,md:4,children:Object(n.jsxs)(T.a,{variant:"outlined",className:a.card,children:[Object(n.jsx)(N.a,{component:"img",image:i,height:"250"}),Object(n.jsxs)(B.a,{children:[Object(n.jsx)(x.a,{variant:"h6",component:"h6",children:t.username}),Object(n.jsx)(x.a,{variant:"body2",color:"textSecondary",component:"p",children:t.email})]}),Object(n.jsx)(D.a,{children:Object(n.jsx)(w.a,{size:"small",color:"primary",onClick:function(){return window.location.href="/user/".concat(t.id)},children:"View Profile"})})]})})}var ie=Object(h.a)((function(e){return{root:{marginTop:e.spacing(3)},cardGrid:{paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));function se(){var e=ie(),t=Object(c.useState)([]),a=Object(d.a)(t,2),o=a[0],r=a[1];return Object(c.useEffect)((function(){j()({method:"get",url:"/api/user/",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer ".concat(m().token)}}).then((function(e){r(e.data)})).catch((function(e){console.log(e)}))}),[r]),Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(x.a,{component:"h1",variant:"h5",align:"center",children:"Users"}),Object(n.jsx)(A.a,{className:e.cardGrid,maxWidth:"md",children:Object(n.jsx)(k.a,{container:!0,spacing:4,children:o?o.map((function(e,t){return Object(n.jsx)(re,{user:e},t)})):[]})})]})}var le=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(12),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function de(){var e=le(),t=Object(c.useState)({id:"",username:"",email:"",password:"",formData:"",about:"",error:"",success:!1}),a=Object(d.a)(t,2),o=a[0],r=a[1],i=Object(c.useState)(!1),s=Object(d.a)(i,2),u=s[0],p=s[1],b=Object(c.useState)(""),h=Object(d.a)(b,2),f=h[0],O=h[1],g=o.id,y=o.username,v=o.email,C=o.password,S=o.formData,k=o.about,T=o.error,N=Object(l.g)().userId;Object(c.useEffect)((function(){j()({method:"get",url:"/api/user/".concat(N),headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer ".concat(m().token)}}).then((function(e){r({id:e.data.id,username:e.data.username,email:e.data.email,about:e.data.about,formData:new FormData})})).catch((function(e){e&&p(!0)})),j()({method:"get",url:"/api/user/photo/".concat(N),responseType:"arraybuffer",headers:{Accept:"*/*",Authorization:"Bearer ".concat(m().token)}}).then((function(e){var t=btoa(new Uint8Array(e.data).reduce((function(e,t){return e+String.fromCharCode(t)}),""));O("data:image/*;base64, ".concat(t))})).catch((function(e){console.log(e)}))}),[]);var B=function(e){return function(t){var a="image"===e?t.target.files[0]:t.target.value;S.append("image",a),r(Object(M.a)(Object(M.a)({},o),{},Object(L.a)({},e,a)))}},I=function(e){e.preventDefault(),r(Object(M.a)(Object(M.a)({},o),{},{error:!1}));var t={username:y,email:v,password:C||void 0,about:k};S.append("user",new Blob([JSON.stringify(t)],{type:"application/json"})),function(e){return j()({method:"put",url:"/api/user/update/".concat(N),headers:{Accept:"*/*",Authorization:"Bearer ".concat(m().token)},data:e})}(S).then((function(e){!function(e,t){"undefined"!==typeof window&&localStorage.getItem("username")&&localStorage.setItem("username",JSON.stringify(e.username)),t()}(t,(function(){p(!0)}))})).catch((function(e){r(Object(M.a)(Object(M.a)({},o),{},{error:e.response.data.details}))}))};return Object(n.jsxs)(A.a,{maxWidth:"xs",children:[u?Object(n.jsx)(l.a,{to:"/user/".concat(g)}):null,Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(Y.a,{severity:"error",style:{display:T?"":"none"},children:T}),Object(n.jsx)(x.a,{component:"h1",variant:"h5",children:"Edit Profile"}),Object(n.jsxs)("form",{className:e.form,encType:"multipart/form-data",noValidate:!0,children:[Object(n.jsx)("img",{src:f,alt:y,onError:function(e){return e.target.src="https://cdn2.iconfinder.com/data/icons/teen-people-face-avatar-6/500/teen_109-512.png"},style:{width:"auto",height:"200px"}}),Object(n.jsx)(x.a,{component:"h1",variant:"subtitle1",children:"Profile Picture"}),Object(n.jsx)("input",{name:"image",type:"file",accept:"image/*",onChange:B("image")}),Object(n.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Username",type:"text",autoComplete:"username",onChange:B("username"),value:y}),Object(n.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email",autoComplete:"email",onChange:B("email"),value:v}),Object(n.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",autoComplete:"current-password",onChange:B("password"),value:C}),Object(n.jsx)(Q.a,{variant:"outlined",multiline:!0,margin:"normal",required:!0,fullWidth:!0,label:"About",onChange:B("about"),value:k}),Object(n.jsx)(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:I,children:"Edit Profile"})]})]})]})}var ue=a(82);function je(e){var t=e.component,a=Object(ue.a)(e,["component"]);return Object(n.jsx)(l.b,Object(M.a)(Object(M.a)({},a),{},{render:function(e){return m()?Object(n.jsx)(t,Object(M.a)({},e)):Object(n.jsx)(l.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))}var pe=a(168),be=Object(h.a)({root:{flexGrow:1},body:{justifyContent:"space-between"},card:{height:"100%",display:"flex",flexDirection:"column"}});function me(e){var t=e.person,a=e.toFollow,o=e.index,r=be(),i=Object(c.useState)(""),l=Object(d.a)(i,2),u=l[0],p=l[1],b=Object(c.useState)(""),h=Object(d.a)(b,2),f=(h[0],h[1]),O=Object(c.useState)(""),g=Object(d.a)(O,2),y=g[0],v=g[1];return Object(c.useEffect)((function(){var e;e=t.id,j()({method:"get",url:"/api/user/photo/".concat(e),responseType:"arraybuffer",headers:{Accept:"*/*",Authorization:"Bearer ".concat(m().token)}}).then((function(e){var t=btoa(new Uint8Array(e.data).reduce((function(e,t){return e+String.fromCharCode(t)}),""));p("data:image/*;base64, ".concat(t))})).catch((function(e){e&&p("https://cdn2.iconfinder.com/data/icons/teen-people-face-avatar-6/500/teen_109-512.png")}))}),[]),Object(n.jsxs)(k.a,{item:!0,xs:12,sm:6,md:4,children:[Object(n.jsx)(Y.a,{severity:"success",style:{display:y?"":"none"},children:y}),Object(n.jsxs)(T.a,{variant:"outlined",className:r.card,children:[Object(n.jsxs)(pe.a,{children:[Object(n.jsx)(N.a,{component:"img",image:u,height:"250"}),Object(n.jsx)(B.a,{children:Object(n.jsx)(x.a,{variant:"h6",component:"h6",children:t.username})})]}),Object(n.jsxs)(D.a,{children:[Object(n.jsx)(w.a,{size:"small",color:"primary",onClick:function(){return window.location.href="/user/".concat(t.id)},children:"View Profile"}),Object(n.jsx)(w.a,{size:"small",color:"primary",component:s.b,onClick:function(){j()({method:"put",url:"/api/user/follow/".concat(m().id,"/").concat(t.id),headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer ".concat(m().token)}}).then((function(e){e.data&&(a(o),v("Following ".concat(t.username)),setTimeout((function(){window.location.reload()}),2e3))})).catch((function(e){f(e.res)}))},children:"Follow"})]})]})]})}var he=Object(h.a)((function(e){return{root:{marginTop:e.spacing(3)},cardGrid:{paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));function fe(){var e=he(),t=Object(c.useState)([]),a=Object(d.a)(t,2),o=a[0],r=a[1];return Object(c.useEffect)((function(){j()({method:"get",url:"/api/user/findpeople/".concat(m().id),headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer ".concat(m().token)}}).then((function(e){r(e.data)})).catch((function(e){console.log(e)}))}),[r]),Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(x.a,{component:"h1",variant:"h5",align:"center",children:"Users"}),Object(n.jsx)(A.a,{className:e.cardGrid,maxWidth:"md",children:Object(n.jsx)(k.a,{container:!0,spacing:4,children:o?o.map((function(e,t){return Object(n.jsx)(me,{index:t,person:e,toFollow:function(e){return function(e){var t=o;o.splice(e,1),r(t)}(e)}},t)})):[]})})]})}var Oe=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(12),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ge(){var e=Oe(),t=Object(c.useState)({title:"",body:"",formData:"",error:"",loading:!1,redirectToProfile:!1}),a=Object(d.a)(t,2),o=a[0],r=a[1],i=o.title,s=o.body,u=o.formData,p=o.error,b=o.loading,h=o.redirectToProfile;Object(c.useEffect)((function(){r(Object(M.a)(Object(M.a)({},o),{},{formData:new FormData}))}),[]);var f=function(e){return function(t){var a="image"===e?t.target.files[0]:t.target.value;u.append("image",a),r(Object(M.a)(Object(M.a)({},o),{},Object(L.a)({},e,a)))}},O=function(e){e.preventDefault(),r(Object(M.a)(Object(M.a)({},o),{},{error:!1,loading:!0}));var t={title:i,body:s};u.append("post",new Blob([JSON.stringify(t)],{type:"application/json"})),function(e){return j()({method:"post",url:"/api/post/new/".concat(m().id),headers:{Accept:"*/*",Authorization:"Bearer ".concat(m().token)},data:e})}(u).then((function(e){r(Object(M.a)(Object(M.a)({},o),{},{loading:!1,title:"",body:"",redirectToProfile:!0}))})).catch((function(e){r(Object(M.a)(Object(M.a)({},o),{},{error:e.response.data.details}))}))};return Object(n.jsxs)(A.a,{maxWidth:"xs",children:[h?Object(n.jsx)(l.a,{to:"/user/".concat(m().id)}):null,Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(ae.a,{style:{display:b?"":"none"}}),Object(n.jsx)(Y.a,{severity:"error",style:{display:p?"":"none"},children:p}),Object(n.jsx)(x.a,{component:"h1",variant:"h5",children:"Create New Post"}),Object(n.jsxs)("form",{className:e.form,encType:"multipart/form-data",noValidate:!0,children:[Object(n.jsx)(x.a,{component:"h1",variant:"subtitle1",children:"Upload Image Here"}),Object(n.jsx)("input",{name:"image",type:"file",accept:"image/*",onChange:f("image")}),Object(n.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Title",type:"text",autoComplete:"title",onChange:f("title"),value:i}),Object(n.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,multiline:!0,fullWidth:!0,label:"Body",type:"text",autoComplete:"body",onChange:f("body"),value:s}),Object(n.jsx)(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:O,children:"Create Post"})]})]})]})}var xe=a(61),ye=a.n(xe),ve=a(79),we=a(80),Ce=a(81),Se=a.n(Ce);function Ae(e){var t=e.comment,a=(e.comments,e.updateComments),o=Object(c.useState)(""),r=Object(d.a)(o,2),i=r[0],u=r[1],p=Object(l.g)().postId;Object(c.useEffect)((function(){var e;e=t.postedBy.id,j()({method:"get",url:"/api/user/photo/".concat(e),responseType:"arraybuffer",headers:{Accept:"*/*",Authorization:"Bearer ".concat(m().token)}}).then((function(e){var t=btoa(new Uint8Array(e.data).reduce((function(e,t){return e+String.fromCharCode(t)}),""));u("data:image/*;base64, ".concat(t))})).catch((function(e){e&&u("https://cdn2.iconfinder.com/data/icons/teen-people-face-avatar-6/500/teen_109-512.png")}))}),[]);var b=function(){j()({method:"put",url:"/api/post/uncomment/".concat(t.id,"/").concat(p),headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer ".concat(m().token)}}).then((function(e){a(e.data.comments)})).catch((function(e){console.log(e)}))};return Object(n.jsx)("div",{children:Object(n.jsxs)(k.a,{container:!0,spacing:6,children:[Object(n.jsx)(k.a,{item:!0,xs:4,children:Object(n.jsx)(s.b,{to:"/user/".concat(t.postedBy.id),children:Object(n.jsx)("img",{src:i,alt:t.postedBy.username,onError:function(e){return e.target.src="https://cdn2.iconfinder.com/data/icons/teen-people-face-avatar-6/500/teen_109-512.png"},style:{width:"100%",height:"100%",borderRadius:"50%",border:"1px solid black"}})})}),Object(n.jsxs)(k.a,{item:!0,xs:6,children:[Object(n.jsx)(x.a,{variant:"h6",children:t.text}),Object(n.jsx)(x.a,{variant:"body2",color:"textSecondary",component:"p",children:Object(n.jsxs)(I.a,{fontStyle:"italic",children:["Posted by ",Object(n.jsx)(s.b,{to:"/user/".concat(t.postedBy.id),children:t.postedBy.username})," on ",new Date(t.created).toDateString()]})}),m().id===t.postedBy.id&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(w.a,{size:"small",variant:"contained",color:"secondary",onClick:function(){window.confirm("Are you sure you want to delete your comment?")&&b()},children:"Remove"})})]})]})})}function ke(e){var t=e.postId,a=e.comments,o=e.updateComments,r=Object(c.useState)({text:"",error:""}),i=Object(d.a)(r,2),s=i[0],l=i[1],u=s.text,p=s.error,b=function(e){e.preventDefault(),function(e){return j()({method:"put",url:"/api/post/comment/".concat(m().id,"/").concat(t),headers:{Accept:"*/*",Authorization:"Bearer ".concat(m().token)},data:e})}({text:u}).then((function(e){l(Object(M.a)(Object(M.a)({},s),{},{text:""})),o(e.data.comments)})).catch((function(e){l(Object(M.a)(Object(M.a)({},s),{},{error:e.response.data.details}))}))};return Object(n.jsxs)("div",{children:[Object(n.jsx)(Y.a,{severity:"error",style:{display:p?"":"none"},children:p}),Object(n.jsxs)("form",{onSubmit:b,children:[Object(n.jsx)(Q.a,{style:{width:"75%"},label:"Leave a comment...",type:"text",autoComplete:"text",onChange:function(e){l(Object(M.a)(Object(M.a)({},s),{},{text:e.target.value}))},value:u}),Object(n.jsx)(w.a,{size:"small",variant:"contained",color:"primary",style:{marginTop:"4%",marginLeft:"3%"},onClick:b,children:"Post"})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)(x.a,{variant:"h6",component:"h1",children:[a.length," Comments"]}),a?a.map((function(e,t){return Object(n.jsx)(Ae,{comment:e,comments:a,updateComments:o},t)})):[]]})]})}var Te=Object(h.a)((function(e){return{root:{marginTop:e.spacing(3)},card:{height:"100%",maxWidth:500,margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(1)}}}));function Ne(){var e=Te(),t=Object(c.useState)(""),a=Object(d.a)(t,2),o=a[0],r=a[1],i=Object(c.useState)(""),u=Object(d.a)(i,2),p=u[0],b=u[1],h=Object(c.useState)(!1),f=Object(d.a)(h,2),O=f[0],g=f[1],y=Object(c.useState)(!1),v=Object(d.a)(y,2),C=v[0],S=v[1],A=Object(c.useState)(0),k=Object(d.a)(A,2),P=k[0],z=k[1],W=Object(c.useState)([]),E=Object(d.a)(W,2),U=E[0],F=E[1],J=Object(l.g)().postId,q=o.postedBy?o.postedBy.id:"",R=o.postedBy?o.postedBy.username:"Unknown",_=function(){j()({method:"get",url:"/api/post/".concat(J),headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer ".concat(m().token)}}).then((function(e){r(e.data),z(e.data.likes.length),S(function(e){var t,a,n=Object(we.a)(e);try{for(n.s();!(a=n.n()).done;)t=a.value.id===m().id}catch(c){n.e(c)}finally{n.f()}return t}(e.data.likes)),F(e.data.comments)})).catch((function(e){console.log(e)}))},G=function(){var e=Object(ve.a)(ye.a.mark((function e(){var t;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=6;break}return e.next=3,j()({method:"put",url:"/api/post/unlike/".concat(m().id,"/").concat(J),headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer ".concat(m().token)}}).then((function(e){S(!C),z(e.data.likes.length)})).catch((function(e){console.log(e)}));case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,j()({method:"put",url:"/api/post/like/".concat(m().id,"/").concat(J),headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer ".concat(m().token)}}).then((function(e){S(!C),z(e.data.likes.length)})).catch((function(e){console.log(e)}));case 8:e.t0=e.sent;case 9:return t=e.t0,e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){j()({method:"delete",url:"/api/post/delete/".concat(m().id,"/").concat(J),headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer ".concat(m().token)}}).then((function(e){g(!0)})).catch((function(e){console.log(e)}))};return Object(c.useEffect)((function(){_(),j()({method:"get",url:"/api/post/photo/".concat(J),responseType:"arraybuffer",headers:{Accept:"*/*",Authorization:"Bearer ".concat(m().token)}}).then((function(e){var t=btoa(new Uint8Array(e.data).reduce((function(e,t){return e+String.fromCharCode(t)}),""));b("data:image/*;base64, ".concat(t))})).catch((function(e){e&&b("https://www.flickr.com/photos/glaciernps/28806955114/in/album-72157670140016374/")}))}),[]),Object(n.jsxs)("div",{className:e.root,children:[O?Object(n.jsx)(l.a,{to:"/"}):null,Object(n.jsx)(x.a,{variant:"h6",component:"h6",style:{textAlign:"center"},children:o.title}),Object(n.jsxs)(T.a,{variant:"outlined",className:e.card,children:[Object(n.jsx)(N.a,{component:"img",image:p,height:"300px",width:"100%"}),Object(n.jsxs)(B.a,{children:[Object(n.jsxs)("h2",{onClick:G,style:{display:"flex",alignItems:"center"},children:[Object(n.jsx)(Se.a,{style:{marginRight:"1%"}}),P," likes"]}),Object(n.jsx)(x.a,{variant:"body2",color:"textSecondary",component:"p",children:o.body}),Object(n.jsx)("br",{}),Object(n.jsx)(x.a,{variant:"body2",color:"textSecondary",component:"p",children:Object(n.jsxs)(I.a,{fontStyle:"italic",children:["Posted by ",Object(n.jsx)(s.b,{to:"/user/".concat(q),children:R})," on ",new Date(o.created).toDateString()]})})]}),Object(n.jsx)(D.a,{children:m().id===q&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(w.a,{size:"small",variant:"contained",color:"primary",to:"/",component:s.b,children:"Home"}),Object(n.jsx)(w.a,{size:"small",variant:"contained",color:"primary",href:"/post/edit/".concat(m().id,"/").concat(J),children:"Edit Post"}),Object(n.jsx)(w.a,{size:"small",variant:"contained",color:"secondary",onClick:function(){window.confirm("Are you sure you want to delete your post?")&&V()},children:"Delete Post"})]})}),Object(n.jsx)(ke,{postId:J,comments:U,updateComments:function(e){F(e)}})]})]})}var Be=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(12),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Ie(){var e=Be(),t=Object(c.useState)({title:"",body:"",formData:"",error:"",loading:!1,redirectToProfile:!1}),a=Object(d.a)(t,2),o=a[0],r=a[1],i=o.title,s=o.body,u=o.formData,p=o.error,b=o.loading,h=o.redirectToProfile,f=Object(c.useState)(""),O=Object(d.a)(f,2),g=O[0],y=O[1],v=Object(l.g)().postId;Object(c.useEffect)((function(){j()({method:"get",url:"/api/post/".concat(v),headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer ".concat(m().token)}}).then((function(e){r({id:e.data.id,title:e.data.title,body:e.data.body,formData:new FormData})})).catch((function(e){console.log(e)})),j()({method:"get",url:"/api/post/photo/".concat(v),responseType:"arraybuffer",headers:{Accept:"*/*",Authorization:"Bearer ".concat(m().token)}}).then((function(e){var t=btoa(new Uint8Array(e.data).reduce((function(e,t){return e+String.fromCharCode(t)}),""));y("data:image/*;base64, ".concat(t))})).catch((function(e){console.log(e)}))}),[]);var C=function(e){return function(t){var a="image"===e?t.target.files[0]:t.target.value;u.append("image",a),r(Object(M.a)(Object(M.a)({},o),{},Object(L.a)({},e,a)))}},S=function(e){e.preventDefault(),r(Object(M.a)(Object(M.a)({},o),{},{error:!1}));var t={title:i,body:s};u.append("post",new Blob([JSON.stringify(t)],{type:"application/json"})),function(e){return j()({method:"put",url:"/api/post/update/".concat(m().id,"/").concat(v),headers:{Accept:"*/*",Authorization:"Bearer ".concat(m().token)},data:e})}(u).then((function(e){r(Object(M.a)(Object(M.a)({},o),{},{loading:!1,title:"",body:"",redirectToProfile:!0}))})).catch((function(e){console.log(e),r(Object(M.a)(Object(M.a)({},o),{},{error:e.response.data.details}))}))};return Object(n.jsxs)(A.a,{maxWidth:"xs",children:[h?Object(n.jsx)(l.a,{to:"/"}):null,Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(ae.a,{style:{display:b?"":"none"}}),Object(n.jsx)(Y.a,{severity:"error",style:{display:p?"":"none"},children:p}),Object(n.jsx)(x.a,{component:"h1",variant:"h5",children:"Edit Post"}),Object(n.jsxs)("form",{className:e.form,encType:"multipart/form-data",noValidate:!0,children:[Object(n.jsx)("img",{src:g,alt:i,onError:function(e){return e.target.src="https://www.flickr.com/photos/glaciernps/28806955114/in/album-72157670140016374/"},style:{width:"100%",height:"200px"}}),Object(n.jsx)(x.a,{component:"h1",variant:"subtitle1",children:"Upload Image Here"}),Object(n.jsx)("input",{name:"image",type:"file",accept:"image/*",onChange:C("image")}),Object(n.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Title",type:"text",autoComplete:"title",onChange:C("title"),value:i}),Object(n.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,multiline:!0,fullWidth:!0,label:"Body",type:"text",autoComplete:"body",onChange:C("body"),value:s}),Object(n.jsx)(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:S,children:"Edit Post"})]})]})]})}var De=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Pe(){var e=De(),t=Object(c.useState)({email:"",message:"",success:!1,error:""}),a=Object(d.a)(t,2),o=a[0],r=a[1],i=o.email,s=o.message,l=o.success,u=o.error,p=function(e){e.preventDefault(),function(e){return j()({method:"post",url:"/api/auth/forgotpassword",headers:{Accept:"*/*","Content-Type":"application/json"},data:e})}(i).then((function(e){r(Object(M.a)(Object(M.a)({},o),{},{message:e.data,success:!0,error:!1}))})).catch((function(e){r(Object(M.a)(Object(M.a)({},o),{},{success:!1,error:e.response.data}))}))};return Object(n.jsx)(A.a,{maxWidth:"xs",children:Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(Y.a,{severity:"error",style:{display:u?"":"none"},children:u}),Object(n.jsx)(Y.a,{severity:"success",style:{display:l?"":"none"},children:s}),Object(n.jsx)(x.a,{component:"h1",variant:"h5",children:"Forgot Password?"}),Object(n.jsxs)("form",{onSubmit:p,className:e.form,noValidate:!0,children:[Object(n.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email",autoComplete:"email",onChange:function(e){r(Object(M.a)(Object(M.a)({},o),{},{success:!1,email:e.target.value}))},value:i}),Object(n.jsx)(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:p,children:"Submit"})]})]})})}var ze=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function We(){var e=ze(),t=Object(c.useState)({password:"",message:"",success:!1,error:""}),a=Object(d.a)(t,2),o=a[0],r=a[1],i=Object(l.g)(),s=i.userId,u=i.token,p=o.password,b=o.message,m=o.success,h=o.error,f=function(e){e.preventDefault(),function(e){return j()({method:"put",url:"/api/auth/resetpassword/".concat(e.userId,"/").concat(e.token),headers:{Accept:"*/*","Content-Type":"application/json"},data:e.password})}({userId:s,token:u,password:p}).then((function(e){console.log(e.data),r(Object(M.a)(Object(M.a)({},o),{},{message:e.data,success:!0,error:!1}))})).catch((function(e){console.log(e.response),r(Object(M.a)(Object(M.a)({},o),{},{success:!1,error:e.response.data}))}))};return Object(n.jsx)(A.a,{maxWidth:"xs",children:Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(Y.a,{severity:"error",style:{display:h?"":"none"},children:h}),Object(n.jsxs)(Y.a,{severity:"success",style:{display:m?"":"none"},children:[b," Please ",Object(n.jsx)(K.a,{href:"/signin",variant:"body2",children:"Sign In"})]}),Object(n.jsx)(x.a,{component:"h1",variant:"h5",children:"Reset Password"}),Object(n.jsxs)("form",{onSubmit:f,className:e.form,noValidate:!0,children:[Object(n.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",autoComplete:"current-password",onChange:function(e){r(Object(M.a)(Object(M.a)({},o),{},{success:!1,password:e.target.value}))},value:p}),Object(n.jsx)(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:f,children:"Submit"})]})]})})}function Ee(){return Object(n.jsxs)(s.a,{children:[Object(n.jsx)(S,{}),Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{exact:!0,path:"/",component:R}),Object(n.jsx)(l.b,{exact:!0,path:"/forgot-password",component:Pe}),Object(n.jsx)(l.b,{exact:!0,path:"/resetpassword/:userId/:token",component:We}),Object(n.jsx)(l.b,{exact:!0,path:"/signup",component:te}),Object(n.jsx)(l.b,{exact:!0,path:"/signin",component:ce}),Object(n.jsx)(je,{exact:!0,path:"/user/:userId",component:H}),Object(n.jsx)(je,{exact:!0,path:"/user/edit/:userId",component:de}),Object(n.jsx)(je,{exact:!0,path:"/findpeople",component:fe}),Object(n.jsx)(l.b,{exact:!0,path:"/users",component:se}),Object(n.jsx)(je,{exact:!0,path:"/post/edit/:userId/:postId",component:Ie}),Object(n.jsx)(je,{exact:!0,path:"/post/create",component:ge}),Object(n.jsx)(je,{exact:!0,path:"/post/:postId",component:Ne})]})]})}a(121);var Ue=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(Ee,{})})};i.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(Ue,{})}),document.getElementById("root"))}},[[122,1,2]]]);
//# sourceMappingURL=main.baa08ceb.chunk.js.map